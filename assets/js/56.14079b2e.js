(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{419:function(t,a,s){"use strict";s.r(a);var e=s(18),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"theming-frontend"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#theming-frontend"}},[t._v("#")]),t._v(" Theming frontend")]),t._v(" "),s("p",[t._v("In this article, we explain how you can create a theme and develop it.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("If you prefer learning from examples, jump to "),s("a",{attrs:{href:"#examples"}},[t._v("this section")]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("Theming is extremely easy. Remember the Next Gen frontend is just an express app. Themes are just a folder in the themes directory with templates plus an "),s("code",[t._v("index.js")]),t._v(". The "),s("code",[t._v("index.js")]),t._v(" receives the Express app object which means a theme can also extend the core app with routes and/or middleware. If you aren’t familiar with Express or Express routes, you may want to get up to speed: "),s("a",{attrs:{href:"https://expressjs.com/en/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://expressjs.com/en/guide/"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Templating is done by default with "),s("a",{attrs:{href:"https://mozilla.github.io/nunjucks/templating.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nunjucks"),s("OutboundLink")],1),t._v(". It is essentially a node.js port of "),s("a",{attrs:{href:"http://jinja.pocoo.org/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jinja2"),s("OutboundLink")],1),t._v(" which is the templating engine for CKAN Classic which makes it both familiar and extremely easy to port existing template code from Classic.")]),t._v(" "),s("h2",{attrs:{id:"getting-started"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting started")]),t._v(" "),s("p",[t._v("To add a theme, create a folder in the "),s("code",[t._v("/themes")]),t._v(" directory. At very least you must add a "),s("code",[t._v("index.js")]),t._v(" file with the following code in it:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// no-ops")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("The app object is the express app. We can extend this object to add routes to our application, to provide middleware layers, or to do anything that express allows us to do.")]),t._v(" "),s("p",[t._v("For instance, we can add a custom route with a simple message:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/hello'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example route'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'example.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Example Theme route'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("hello"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello from my theme!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("If you have worked with Express.js, this will look quite familiar. For more on working with Express.js, see the "),s("a",{attrs:{href:"https://expressjs.com/en/5x/api.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("complete documentation here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Note that the first argument to the "),s("code",[t._v("res.render")]),t._v(" function is the name of a template. We can define this template in our themes folder at "),s("code",[t._v("themes/mytheme/views/example.html")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v('{% extends "base.html" %}\n\n{% block bodyclass %}dash{% endblock %}\n{% block content %}\n'),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("pt-6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    {{ content.foo }}\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n{% endblock %}\n")])])]),s("p",[t._v("By default, the frontend app uses DataHub theme which contains of templates ("),s("code",[t._v("/views/")]),t._v(") and assets ("),s("code",[t._v("/public/")]),t._v(").")]),t._v(" "),s("p",[t._v("If you need to customize the design of the site, you can create your own theme in the "),s("code",[t._v("/themes/")]),t._v(" directory. E.g., we can create a theme called "),s("code",[t._v("example")]),t._v(" with "),s("code",[t._v("public")]),t._v(" and "),s("code",[t._v("views")]),t._v(" directories so that they override default assets in "),s("code",[t._v("/public/")]),t._v(" and templates in "),s("code",[t._v("/views/")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/themes/example/public\n/themes/example/views\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[s("strong",[t._v("NOTE")])]),t._v(" "),s("p",[t._v("The default assets and templates are used, if a file isn’t found in your theme. This allows you to change specific part of the templates or assets.")])]),t._v(" "),s("h2",{attrs:{id:"extending-core-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extending-core-controller"}},[t._v("#")]),t._v(" Extending core controller")]),t._v(" "),s("p",[t._v("The controllers are called in the following order:")]),t._v(" "),s("ol",[s("li",[t._v("Plugins - e.g., WordPress plugin controller is called prior to theme and core controllers.")]),t._v(" "),s("li",[t._v("Theme - you can either extend or override a controller here.")]),t._v(" "),s("li",[t._v("Core - finally, core controller is called.")])]),t._v(" "),s("p",[t._v("Below we have couple of examples of how would you extend the controllers.")]),t._v(" "),s("h3",{attrs:{id:"home-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#home-controller"}},[t._v("#")]),t._v(" Home controller")]),t._v(" "),s("p",[t._v("Imagine you need to pass some more variables to home template. For example, you need to display featured groups/collections:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// your index.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dms "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dms'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" DmsModel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("dms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DmsModel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" collections "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" DmsModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCollections")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// You probably want to display only 3-4 collections. You can filter them here.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// The template now has 'collections' variable:")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locals"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("collections "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" collections"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"showcase-dataset-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#showcase-dataset-controller"}},[t._v("#")]),t._v(" Showcase (dataset) controller")]),t._v(" "),s("p",[t._v("The showcase page is mostly rendered from a "),s("code",[t._v("datapackage")]),t._v(" object so you might want to make some tweaks to it before it gets passed to the template. You always can override the controller but if you only want to make small tweaks, you can extend it:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'config'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dms "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dms'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" DmsModel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("dms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DmsModel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/:owner/:name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locals"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datapackage "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" DmsModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPackage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Now you can alter `datapackage` for your needs:")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("locals"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datapackage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My title'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"theme-naming-convention"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#theme-naming-convention"}},[t._v("#")]),t._v(" Theme naming convention")]),t._v(" "),s("p",[t._v("Key points are:")]),t._v(" "),s("ul",[s("li",[t._v("first part of the name is "),s("code",[t._v("frontend-{project name}")])]),t._v(" "),s("li",[t._v("keep it short but meaningful")]),t._v(" "),s("li",[t._v("use lower case")]),t._v(" "),s("li",[t._v("use hyphens instead of underscores")])]),t._v(" "),s("p",[t._v("Examples:")]),t._v(" "),s("ul",[s("li",[t._v("frontend-company")]),t._v(" "),s("li",[t._v("frontend-city")])]),t._v(" "),s("h2",{attrs:{id:"variables-available-in-each-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#variables-available-in-each-page"}},[t._v("#")]),t._v(" Variables available in each page")]),t._v(" "),s("h3",{attrs:{id:"macros-helpers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#macros-helpers"}},[t._v("#")]),t._v(" Macros (helpers)")]),t._v(" "),s("p",[t._v("All default macros are located at "),s("code",[t._v("/views/_snippets.html")]),t._v(".")]),t._v(" "),s("p",[t._v("Importing macros in a template:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{% import '_snippets.html' as snippets %}\n")])])]),s("p",[t._v("Use it:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{{ snippets.package_list_show(packages) }}\n")])])]),s("h4",{attrs:{id:"list-data-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#list-data-packages"}},[t._v("#")]),t._v(" List data packages")]),t._v(" "),s("p",[t._v("Example on search page:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.imgur.com/jECzGkG.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("Macros: "),s("code",[t._v("package_list_show")])]),t._v(" "),s("li",[t._v("Parameters:\n"),s("ul",[s("li",[t._v("list of data packages")])])]),t._v(" "),s("li",[t._v("Returns: list of HTML elements. Each element is sort of a summary card for a data package.")])]),t._v(" "),s("h4",{attrs:{id:"list-data-package-licenses-or-sources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#list-data-package-licenses-or-sources"}},[t._v("#")]),t._v(" List data package licenses or sources")]),t._v(" "),s("p",[t._v("Example:")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.imgur.com/Wa3yMQc.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("Macros: "),s("code",[t._v("listify")])]),t._v(" "),s("li",[t._v("Parameters:\n"),s("ul",[s("li",[t._v("list of standard data package licenses or sources")])])]),t._v(" "),s("li",[t._v("Returns: HTML anchor tag or span element")])]),t._v(" "),s("h3",{attrs:{id:"home-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#home-page"}},[t._v("#")]),t._v(" Home page")]),t._v(" "),s("p",[t._v("Bespoke …")]),t._v(" "),s("h3",{attrs:{id:"search-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#search-page"}},[t._v("#")]),t._v(" Search page")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Search'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  result"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" data packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sort"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  pages"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" pages to display "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" pagination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"showcase-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#showcase-page"}},[t._v("#")]),t._v(" Showcase page")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  dataset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" datapackage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a standard data package ...")]),t._v("\n  owner"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rufuspollock"')]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Rufus Pollock"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    avatar"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"...."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// url to image for this")]),t._v("\n    route"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/rufuspollock"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("In standard Data package we have "),s("code",[t._v("created")]),t._v(" and "),s("code",[t._v("modified")]),t._v(" fields which is a timestamp and it isn’t human readable ("),s("code",[t._v("2019-01-01 00:00:00")]),t._v("). We want to show it as "),s("code",[t._v("January 1, 2019")]),t._v(". The easiest would be to convert in controller and pass it through. E.g., in template if you access "),s("code",[t._v("dataset.created")]),t._v(" it would print nicely formatted date.")]),t._v(" "),s("h3",{attrs:{id:"organization-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#organization-page"}},[t._v("#")]),t._v(" Organization page")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// org")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'owner name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("owner")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'owner name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'description from profile'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  avatar"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url to image'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  joinDate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eg, June 2019'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// misc ...")]),t._v("\n  result"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" data packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sort"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  pages"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" pages to display "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" pagination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"collections-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#collections-page"}},[t._v("#")]),t._v(" Collections page")]),t._v(" "),s("p",[t._v("List of collections page.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Dataset Collections'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Catalogue of datasets ...'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  collections"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      summary"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      image"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// more collection objects")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"individual-collection-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#individual-collection-page"}},[t._v("#")]),t._v(" Individual collection page")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title of collection'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  item"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    summary"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    image"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Misc")]),t._v("\n  result"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" data packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("q"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sort"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  pages"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" pages to display "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" pagination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"blog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blog"}},[t._v("#")]),t._v(" Blog")]),t._v(" "),s("p",[t._v("List of posts.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  posts"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("{post}")]),t._v(" object is a WP post object containing all available metadata. Below is main stuff that we use:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  slug"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  date"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  modified"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"article-post-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#article-post-page"}},[t._v("#")]),t._v(" Article / post page")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  published"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'formatted published date'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  modified"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'formatted modified date'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"i18n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i18n"}},[t._v("#")]),t._v(" i18n")]),t._v(" "),s("h3",{attrs:{id:"configure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure"}},[t._v("#")]),t._v(" Configure")]),t._v(" "),s("p",[t._v("Define location of translation files. We recommend creating "),s("code",[t._v("i18n")]),t._v(" directory in your theme:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("TRANSLATIONS=/themes/example/i18n\n")])])]),s("p",[t._v("List of available locales then auto detected by filenames.")]),t._v(" "),s("p",[t._v("Use "),s("code",[t._v("defaultLocale")]),t._v(" cookie to set the site’s locale. E.g., if "),s("code",[t._v("defaultLocale=en")]),t._v(", then "),s("code",[t._v("/themes/example/i18n/en.json")]),t._v(" file is used.")]),t._v(" "),s("h3",{attrs:{id:"i18n-of-the-site"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i18n-of-the-site"}},[t._v("#")]),t._v(" i18n of the site")]),t._v(" "),s("p",[t._v("In your templates:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{{ __('Hello world!') }}\n{{ __('Hi %s', 'you') }} // Hi you\n{{ __('Hi {{ name }}', { name: 'you' }) }} // Hi you\n")])])]),s("p",[t._v("This will add a phrase/word to your translation file if it is unknown.")]),t._v(" "),s("p",[t._v("Plurals translation:")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("{{ __n('%s dog', 1) }} // 1 dog\n{{ __n('%s dog', 3) }} // 3 dogs\n")])])]),s("p",[t._v("In your translation file:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"%s dog"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"one"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s dog"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"other"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s dogs"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"i18n-of-the-content"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i18n-of-the-content"}},[t._v("#")]),t._v(" i18n of the content")]),t._v(" "),s("p",[t._v("You can have a page in WordPress with the same slug as original page plus locale at the end. E.g., for "),s("code",[t._v("/about")]),t._v(" page we would have two pages on WP, "),s("code",[t._v("about")]),t._v(" (English) and "),s("code",[t._v("about-da")]),t._v(" (Danish). When fetching a content we can check the user’s locale and get content in his/her language.")]),t._v(" "),s("h2",{attrs:{id:"theme-distribution-and-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#theme-distribution-and-installation"}},[t._v("#")]),t._v(" Theme distribution and installation")]),t._v(" "),s("p",[t._v("We recommend either having your theme in a git repository or publish it to NPM.")]),t._v(" "),s("h3",{attrs:{id:"theme-is-in-a-git-repo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#theme-is-in-a-git-repo"}},[t._v("#")]),t._v(" Theme is in a git repo")]),t._v(" "),s("p",[t._v("If your theme is not published to NPM but it is available in a git repo, you can install it from there:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# From gitlab repo and datopian org:")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" git+https://git@gitlab.com/datopian/repo-name.git\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# From github repo and datopian org:")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" git+https://git@github.com/datopian/repo-name.git\n")])])]),s("h3",{attrs:{id:"theme-is-on-npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#theme-is-on-npm"}},[t._v("#")]),t._v(" Theme is on NPM")]),t._v(" "),s("p",[t._v("If the theme is on NPM you can install it as a regular NPM package:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" my-theme-name\n")])])]),s("h3",{attrs:{id:"enable-it"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-it"}},[t._v("#")]),t._v(" Enable it")]),t._v(" "),s("p",[t._v("Once you’ve installed the theme, you need to enable it via "),s("code",[t._v(".env")]),t._v(" config file:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("THEME=my-theme-name\nTHEME_DIR=node_modules\n")])])]),s("p",[t._v("Done! Start the server and checkout how your theme looks like 👋")]),t._v(" "),s("h2",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),s("h3",{attrs:{id:"open-data-denmark"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-data-denmark"}},[t._v("#")]),t._v(" Open Data Denmark")]),t._v(" "),s("p",[t._v("Technologies and plugins used:")]),t._v(" "),s("ul",[s("li",[t._v("CSS framework: Tailwind")]),t._v(" "),s("li",[t._v("CMS: WordPress")]),t._v(" "),s("li",[t._v("DMS: CKAN Classic")]),t._v(" "),s("li",[t._v("Other plugins: proxy")])]),t._v(" "),s("p",[t._v("Features and functionalities implemented in the theme:")]),t._v(" "),s("ul",[s("li",[t._v("Search in static content\n"),s("ul",[s("li",[t._v("Searches in WordPress instance")]),t._v(" "),s("li",[t._v("Has a dedicated search page: "),s("code",[t._v("/search/content")])])])]),t._v(" "),s("li",[t._v("Search box with the dropdown with 2 options for searching data and content")]),t._v(" "),s("li",[t._v("Displaying random groups on the front page")]),t._v(" "),s("li",[t._v("Categories for blog posts and ability to filter by category")]),t._v(" "),s("li",[t._v("Displaying featured posts")])]),t._v(" "),s("p",[t._v("Useful links:")]),t._v(" "),s("ul",[s("li",[t._v("Site: "),s("a",{attrs:{href:"https://frontend-v2-openddk.herokuapp.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://frontend-v2-openddk.herokuapp.com/"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Repo: "),s("a",{attrs:{href:"https://github.com/datopian/frontend-v2/tree/master/themes/opendk",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/datopian/frontend-v2/tree/master/themes/opendk"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"energinet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#energinet"}},[t._v("#")]),t._v(" Energinet")]),t._v(" "),s("p",[t._v("Technologies and plugins used:")]),t._v(" "),s("ul",[s("li",[t._v("CSS framework: Tailwind")]),t._v(" "),s("li",[t._v("CMS: WordPress")]),t._v(" "),s("li",[t._v("DMS: CKAN Classic")]),t._v(" "),s("li",[t._v("Other plugins: proxy, google-analytics, mailer")])]),t._v(" "),s("p",[t._v("Features and functionalities implemented in the theme:")]),t._v(" "),s("ul",[s("li",[t._v("TODO")])]),t._v(" "),s("p",[t._v("Useful links:")]),t._v(" "),s("ul",[s("li",[t._v("Site: "),s("a",{attrs:{href:"https://frontend-v2-eds.herokuapp.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://frontend-v2-eds.herokuapp.com/"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Repo: "),s("a",{attrs:{href:"https://gitlab.com/datopian/eds/frontend-eds",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitlab.com/datopian/eds/frontend-eds"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("NPM: "),s("a",{attrs:{href:"https://www.npmjs.com/package/@datopian/eds",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.npmjs.com/package/@datopian/eds"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"montreal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#montreal"}},[t._v("#")]),t._v(" Montreal")]),t._v(" "),s("p",[t._v("Technologies and plugins used:")]),t._v(" "),s("ul",[s("li",[t._v("CSS framework: Tailwind")]),t._v(" "),s("li",[t._v("CMS: CKAN Pages")]),t._v(" "),s("li",[t._v("DMS: CKAN Classic")]),t._v(" "),s("li",[t._v("Other plugins: carto, dashboard, applications-showcase, disqus")])]),t._v(" "),s("p",[t._v("Features and functionalities implemented in the theme:")]),t._v(" "),s("ul",[s("li",[t._v("TODO")])]),t._v(" "),s("p",[t._v("Useful links:")]),t._v(" "),s("ul",[s("li",[t._v("Site: "),s("a",{attrs:{href:"http://montreal.ckan.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://montreal.ckan.io/"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Repo: "),s("a",{attrs:{href:"https://gitlab.com/datopian/clients/ckan-montreal",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitlab.com/datopian/clients/ckan-montreal"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("NPM: "),s("a",{attrs:{href:"https://www.npmjs.com/package/@datopian/ckan-montreal",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.npmjs.com/package/@datopian/ckan-montreal"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"department-of-education"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#department-of-education"}},[t._v("#")]),t._v(" Department of Education")]),t._v(" "),s("p",[t._v("Technologies and plugins used:")]),t._v(" "),s("ul",[s("li",[t._v("CSS framework: Tailwind (based on Open Data Denmark)")]),t._v(" "),s("li",[t._v("CMS: TODO")]),t._v(" "),s("li",[t._v("DMS: CKAN Classic")]),t._v(" "),s("li",[t._v("Other plugins: TODO")])]),t._v(" "),s("p",[t._v("Features and functionalities implemented in the theme:")]),t._v(" "),s("ul",[s("li",[t._v("TODO")])]),t._v(" "),s("p",[t._v("Useful links:")]),t._v(" "),s("ul",[s("li",[t._v("Site: "),s("a",{attrs:{href:"https://us-ed-ng.ckan.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://us-ed-ng.ckan.io/"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Repo: "),s("a",{attrs:{href:"https://gitlab.com/datopian/dept-ed-frontend",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitlab.com/datopian/dept-ed-frontend"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"axenit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#axenit"}},[t._v("#")]),t._v(" Axenit")]),t._v(" "),s("p",[t._v("Technologies and plugins used:")]),t._v(" "),s("ul",[s("li",[t._v("CSS framework: TODO")]),t._v(" "),s("li",[t._v("CMS: TODO")]),t._v(" "),s("li",[t._v("DMS: TODO")]),t._v(" "),s("li",[t._v("Other plugins: TODO")])]),t._v(" "),s("p",[t._v("Features and functionalities implemented in the theme:")]),t._v(" "),s("ul",[s("li",[t._v("TODO")])]),t._v(" "),s("p",[t._v("Useful links:")]),t._v(" "),s("ul",[s("li",[t._v("Site: TODO")]),t._v(" "),s("li",[t._v("Repo: "),s("a",{attrs:{href:"https://gitlab.com/datopian/clients/axenit-theme",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitlab.com/datopian/clients/axenit-theme"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);