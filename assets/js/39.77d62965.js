(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{398:function(e,a,t){"use strict";t.r(a);var n=t(25),r=function(e){e.options.__data__block__={mermaid_1a962850:"\ngraph TD\n\n\n  cli((CLI fa:fa-user))\n  auth[Auth Service]\n  cli --login--\x3e auth\n  \n\t\n\tcli --store--\x3e raw[Raw Store API<br>+ Storage]  \n  \n\tcli --package-info--\x3e pipeline-store\n  raw --data resource--\x3e pipeline-runner\n  \n  pipeline-store -.generate.-> pipeline-runner\n\t\n  pipeline-runner --\x3e package[Package Storage]\n\tpackage --api--\x3e frontend[Frontend]\n  frontend --\x3e user[User fa:fa-user]\n  \n\n  \n  package -.publish.->metastore[MetaStore]\n  pipeline-store -.publish.-> metastore[MetaStore]\n  metastore[MetaStore] --api--\x3e frontend\n  \n",mermaid_382ee145:"graph TD\n\n  CLI --jwt--\x3e rawstore[RawStore API]\n  rawstore --signed urls--\x3e CLI\n  CLI --upload using signed url--\x3e s3[S3 bucket]\n  s3 --success message--\x3e CLI\n  CLI --metadata--\x3e pipe[Pipe Source]\n",mermaid_382ee14c:"graph LR\n\n  specstore --shared db--\x3e assembler\n  assembler --identity pipeline--\x3e pkgstore\n  pkgstore --\x3e frontend\n",mermaid_382ee165:"graph LR\n\n  load[Load from RawStore] --\x3e encoding[Encoding Check<br>Add encoding info]\n  encoding --\x3e csvkind[CSV kind check]\n  csvkind --\x3e validate[Validate data]\n  validate --\x3e dump[Dump S3]\n  dump --\x3e pkgstore[Pkg Store fa:fa-database]\n  load -.-> dump\n  validate --\x3e checkoutput[Validation<br>Reports]\n",mermaid_382ee16c:"sequenceDiagram\nUpload Agent CLI->>Upload Agent CLI: Check Data Package valid\nUpload Agent CLI--\x3e>Auth(SSO): login\nAuth(SSO)--\x3e>Upload Agent CLI: JWT token\nUpload Agent CLI->>RawStore API: upload using signed url\nRawStore API->>Auth(SSO): Check key / token\nAuth(SSO)->>RawStore API: OK / Not OK\nRawStore API->>Upload Agent CLI: success message\nUpload Agent CLI->>pipeline store: package info\npipeline store->>Upload Agent CLI: OK / Not OK\npipeline store->>pipeline runner: generate\nRawStore API->>pipeline runner: data resource\npipeline runner->>Package Storage: generated\nPackage Storage->>Metadata Storage API: publish\npipeline store->>Metadata Storage API: publish\nMetadata Storage API->>Upload Agent CLI: OK / Not OK\n"}},i=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"publish"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publish"}},[e._v("#")]),e._v(" Publish")]),e._v(" "),t("p",[e._v("Explanation of DataHub publishing flow from client and back-end perspectives.")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_1a962850",graph:e.$dataBlock.mermaid_1a962850}}),t("h2",{attrs:{id:"diagram-for-upload-process"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#diagram-for-upload-process"}},[e._v("#")]),e._v(" Diagram for upload process")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee145",graph:e.$dataBlock.mermaid_382ee145}}),t("h2",{attrs:{id:"identity-pipeline"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#identity-pipeline"}},[e._v("#")]),e._v(" Identity Pipeline")]),e._v(" "),t("p",[t("strong",[e._v("Context: where this pipeline fits in the system")])]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee14c",graph:e.$dataBlock.mermaid_382ee14c}}),t("p",[t("strong",[e._v("Detailed steps")])]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee165",graph:e.$dataBlock.mermaid_382ee165}}),t("h2",{attrs:{id:"client-perspective"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client-perspective"}},[e._v("#")]),e._v(" Client Perspective")]),e._v(" "),t("p",[e._v("Publishing flow takes the following steps and processes to communicate with DataHub API:")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee16c",graph:e.$dataBlock.mermaid_382ee16c}}),t("br"),e._v(" "),t("ul",[t("li",[e._v("Upload API - see "),t("code",[e._v("POST /source/upload")]),e._v(" in "),t("em",[e._v("source")]),e._v(" section of "),t("RouterLink",{attrs:{to:"/developers/api/"}},[e._v("API")])],1),e._v(" "),t("li",[e._v("Authentication API - see "),t("code",[e._v("GET /auth/check")]),e._v(" in "),t("em",[e._v("auth")]),e._v(" section of "),t("RouterLink",{attrs:{to:"/developers/api/"}},[e._v("API")]),e._v(".")],1),e._v(" "),t("li",[e._v("Authorization API - see "),t("code",[e._v("GET /auth/authorize")]),e._v(" in "),t("em",[e._v("auth")]),e._v(" section of "),t("RouterLink",{attrs:{to:"/developers/api/"}},[e._v("API")]),e._v(".")],1)]),e._v(" "),t("p",[e._v("See example "),t("a",{attrs:{href:"https://github.com/datahq/datahub-cli/blob/b869d38073248903a944029cf93eddf3ef50001a/bin/data-push.js#L34",target:"_blank",rel:"noopener noreferrer"}},[e._v("code snippet in DataHub CLI"),t("OutboundLink")],1)])],1)}),[],!1,null,null,null);"function"==typeof r&&r(i);a.default=i.exports}}]);