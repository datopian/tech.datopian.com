<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CKAN Client Guide | Datopian Tech</title>
    <meta name="generator" content="VuePress 1.7.0">
    
    <meta name="description" content="An overview of our technology">
    
    <link rel="preload" href="/assets/css/0.styles.d75de8d6.css" as="style"><link rel="preload" href="/assets/js/app.b3b2fcd5.js" as="script"><link rel="preload" href="/assets/js/3.fa4bc789.js" as="script"><link rel="preload" href="/assets/js/17.b381cf63.js" as="script"><link rel="prefetch" href="/assets/js/10.638da2b7.js"><link rel="prefetch" href="/assets/js/11.17e0f31f.js"><link rel="prefetch" href="/assets/js/12.79e6097b.js"><link rel="prefetch" href="/assets/js/13.6eb9e3f2.js"><link rel="prefetch" href="/assets/js/14.321278ec.js"><link rel="prefetch" href="/assets/js/15.391bfc07.js"><link rel="prefetch" href="/assets/js/16.0706ce2b.js"><link rel="prefetch" href="/assets/js/18.ee35d0ab.js"><link rel="prefetch" href="/assets/js/19.69d5ac20.js"><link rel="prefetch" href="/assets/js/20.7083d06c.js"><link rel="prefetch" href="/assets/js/21.49fa9fe8.js"><link rel="prefetch" href="/assets/js/22.154f4b66.js"><link rel="prefetch" href="/assets/js/23.4dc144f6.js"><link rel="prefetch" href="/assets/js/24.cc815849.js"><link rel="prefetch" href="/assets/js/25.ce5ada67.js"><link rel="prefetch" href="/assets/js/26.7e80a33f.js"><link rel="prefetch" href="/assets/js/27.1f061470.js"><link rel="prefetch" href="/assets/js/28.3c051140.js"><link rel="prefetch" href="/assets/js/29.5b19c9e2.js"><link rel="prefetch" href="/assets/js/30.b55d7f51.js"><link rel="prefetch" href="/assets/js/31.2f80b7f1.js"><link rel="prefetch" href="/assets/js/32.ea642099.js"><link rel="prefetch" href="/assets/js/33.946f15c2.js"><link rel="prefetch" href="/assets/js/34.d8bbaa89.js"><link rel="prefetch" href="/assets/js/35.fc278665.js"><link rel="prefetch" href="/assets/js/36.3e6136c3.js"><link rel="prefetch" href="/assets/js/37.40891321.js"><link rel="prefetch" href="/assets/js/38.6acf3457.js"><link rel="prefetch" href="/assets/js/39.5c089959.js"><link rel="prefetch" href="/assets/js/4.56b57a79.js"><link rel="prefetch" href="/assets/js/40.428fc145.js"><link rel="prefetch" href="/assets/js/41.ed41f981.js"><link rel="prefetch" href="/assets/js/42.69642908.js"><link rel="prefetch" href="/assets/js/43.735df8f3.js"><link rel="prefetch" href="/assets/js/44.d7f00d32.js"><link rel="prefetch" href="/assets/js/45.01aa22e7.js"><link rel="prefetch" href="/assets/js/46.95143001.js"><link rel="prefetch" href="/assets/js/47.af314171.js"><link rel="prefetch" href="/assets/js/48.79db91df.js"><link rel="prefetch" href="/assets/js/49.2bde88a9.js"><link rel="prefetch" href="/assets/js/5.9745c567.js"><link rel="prefetch" href="/assets/js/50.9129941e.js"><link rel="prefetch" href="/assets/js/51.b269d2ad.js"><link rel="prefetch" href="/assets/js/52.635d5ff9.js"><link rel="prefetch" href="/assets/js/53.c7f27608.js"><link rel="prefetch" href="/assets/js/54.fa00a9cd.js"><link rel="prefetch" href="/assets/js/55.b0f25fa3.js"><link rel="prefetch" href="/assets/js/56.b267a606.js"><link rel="prefetch" href="/assets/js/57.d22c2b48.js"><link rel="prefetch" href="/assets/js/58.951d4e34.js"><link rel="prefetch" href="/assets/js/59.af3e6d1a.js"><link rel="prefetch" href="/assets/js/6.884850f8.js"><link rel="prefetch" href="/assets/js/60.1fcd2664.js"><link rel="prefetch" href="/assets/js/61.8eabe431.js"><link rel="prefetch" href="/assets/js/62.ae37d327.js"><link rel="prefetch" href="/assets/js/63.4909605b.js"><link rel="prefetch" href="/assets/js/64.54feb24c.js"><link rel="prefetch" href="/assets/js/65.78e5aadb.js"><link rel="prefetch" href="/assets/js/66.2744a185.js"><link rel="prefetch" href="/assets/js/67.0d982f82.js"><link rel="prefetch" href="/assets/js/68.26fc110b.js"><link rel="prefetch" href="/assets/js/69.80229dbf.js"><link rel="prefetch" href="/assets/js/7.7e8bc420.js"><link rel="prefetch" href="/assets/js/70.6dbe86bf.js"><link rel="prefetch" href="/assets/js/71.5ea64cfd.js"><link rel="prefetch" href="/assets/js/72.e6aa1f00.js"><link rel="prefetch" href="/assets/js/73.9e162fb1.js"><link rel="prefetch" href="/assets/js/74.8e3e50e5.js"><link rel="prefetch" href="/assets/js/75.a999e369.js"><link rel="prefetch" href="/assets/js/76.43f17b74.js"><link rel="prefetch" href="/assets/js/77.bfeedf51.js"><link rel="prefetch" href="/assets/js/78.3a5c4169.js"><link rel="prefetch" href="/assets/js/79.4edb0ee4.js"><link rel="prefetch" href="/assets/js/8.822440c2.js"><link rel="prefetch" href="/assets/js/80.455a3bb5.js"><link rel="prefetch" href="/assets/js/81.4e58f07a.js"><link rel="prefetch" href="/assets/js/82.31ee1f4e.js"><link rel="prefetch" href="/assets/js/83.5dd63d5c.js"><link rel="prefetch" href="/assets/js/84.d25a09fe.js"><link rel="prefetch" href="/assets/js/85.3b60c237.js"><link rel="prefetch" href="/assets/js/9.63d821ea.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.62a8c583.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d75de8d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Datopian Tech</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CKAN Client Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ckan-client-guide/#frictionless-formats" class="sidebar-link">Frictionless Formats</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ckan-client-guide/#quick-start" class="sidebar-link">Quick start</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ckan-client-guide/#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#create-a-client" class="sidebar-link">Create a client</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#upload-a-resource" class="sidebar-link">Upload a resource</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#create-a-new-empty-dataset-with-metadata" class="sidebar-link">Create a new empty Dataset with metadata</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#adding-a-resource-to-an-existing-dataset" class="sidebar-link">Adding a resource to an existing Dataset</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#edit-a-dataset-s-metadata" class="sidebar-link">Edit a Dataset's metadata</a></li></ul></li><li><a href="/ckan-client-guide/#api-porcelain" class="sidebar-link">API - Porcelain</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ckan-client-guide/#client-create" class="sidebar-link">Client.create</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#client-push" class="sidebar-link">Client.push</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#client-retrieve" class="sidebar-link">Client.retrieve</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#client-push-blob" class="sidebar-link">Client.push_blob</a></li></ul></li><li><a href="/ckan-client-guide/#api-plumbing" class="sidebar-link">API - Plumbing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ckan-client-guide/#client-action" class="sidebar-link">Client.action</a></li></ul></li><li><a href="/ckan-client-guide/#metadata-reference" class="sidebar-link">Metadata reference</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ckan-client-guide/#profile" class="sidebar-link">Profile</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#name" class="sidebar-link">Name</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#path" class="sidebar-link">Path</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#data" class="sidebar-link">Data</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#schema" class="sidebar-link">Schema</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#title" class="sidebar-link">Title</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#description" class="sidebar-link">Description</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#home-page" class="sidebar-link">Home Page</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#sources" class="sidebar-link">Sources</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#licenses" class="sidebar-link">Licenses</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#format" class="sidebar-link">Format</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#media-type" class="sidebar-link">Media Type</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#encoding" class="sidebar-link">Encoding</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#bytes" class="sidebar-link">Bytes</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#hash" class="sidebar-link">Hash</a></li></ul></li><li><a href="/ckan-client-guide/#generating-templates" class="sidebar-link">Generating templates</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ckan-client-guide/#python-4" class="sidebar-link">Python</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#javascript-2" class="sidebar-link">JavaScript</a></li><li class="sidebar-sub-header"><a href="/ckan-client-guide/#r" class="sidebar-link">R</a></li></ul></li><li><a href="/ckan-client-guide/#design-principles" class="sidebar-link">Design Principles</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ckan-client-guide"><a href="#ckan-client-guide" class="header-anchor">#</a> CKAN Client Guide</h1> <p>Guide to interacting with <a href="/ckan">CKAN</a> for power users such as data scientists, data engineers and data wranglers.</p> <p>This guide is about adding and managing data in CKAN programmatically and it assumes:</p> <ul><li>You are familiar with key concepts like metadata, data, etc.</li> <li>You are working programmatically with a programming language such as Python, JavaScript or R (<em>coming soon</em>).</li></ul> <h2 id="frictionless-formats"><a href="#frictionless-formats" class="header-anchor">#</a> Frictionless Formats</h2> <p>Clients use <a href="https://specs.frictionlessdata.io/" target="_blank" rel="noopener noreferrer">Frictionless formats<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> by default for describing dataset and resource objects passed to client methods. Internally, we then use the a <em>CKAN &lt;=&gt; Frictionless Mapper</em> (both <a href="https://github.com/datopian/frictionless-ckan-mapper-js" target="_blank" rel="noopener noreferrer">in JavaScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/frictionlessdata/frictionless-ckan-mapper" target="_blank" rel="noopener noreferrer">in Python<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) to convert objects to CKAN formats before calling the API. <strong>Thus, you can use <em>Frictionless Formats</em> by default with the client</strong>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>As CKAN moves to Frictionless to default this will gradually become unnecessary.</p></div> <h2 id="quick-start"><a href="#quick-start" class="header-anchor">#</a> Quick start</h2> <p>Most of this guide has Python programming language in mind, including its <a href="https://www.python.org/dev/peps/pep-0008/#descriptive-naming-styles" target="_blank" rel="noopener noreferrer">convention regading using <em>snake case</em> for instances and methods names<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>If needed, you can adapt the instructions to JavaScript and R (coming soon) by using <em>camel case</em> instead — for example, if in the Python code we have  <code>client.push_blob(…)</code>, in JavaScript it would be <code>client.pushBlob(…)</code>.</p> <h3 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h3> <p>Install the client for your language of choice:</p> <ul><li>Python: <a href="https://github.com/datopian/ckan-client-py#install" target="_blank" rel="noopener noreferrer">https://github.com/datopian/ckan-client-py#install<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>JavaScript: <a href="https://github.com/datopian/ckan-client-js#install" target="_blank" rel="noopener noreferrer">https://github.com/datopian/ckan-client-js#install<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>R: <em>coming soon</em></li></ul> <h3 id="create-a-client"><a href="#create-a-client" class="header-anchor">#</a> Create a client</h3> <h4 id="python"><a href="#python" class="header-anchor">#</a> Python</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> ckanclient <span class="token keyword">import</span> Client


api_key <span class="token operator">=</span> <span class="token string">'771a05ad-af90-4a70-beea-cbb050059e14'</span>
api_url <span class="token operator">=</span> <span class="token string">'http://localhost:5000'</span>
organization <span class="token operator">=</span> <span class="token string">'datopian'</span>
dataset <span class="token operator">=</span> <span class="token string">'dailyprices'</span>
lfs_url <span class="token operator">=</span> <span class="token string">'http://localhost:9419'</span>

client <span class="token operator">=</span> Client<span class="token punctuation">(</span>api_url<span class="token punctuation">,</span> organization<span class="token punctuation">,</span> dataset<span class="token punctuation">,</span> lfs_url<span class="token punctuation">)</span>
</code></pre></div><h4 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ckanClient'</span><span class="token punctuation">)</span>

apiKey <span class="token operator">=</span> <span class="token string">'771a05ad-af90-4a70-beea-cbb050059e14'</span>
apiUrl <span class="token operator">=</span> <span class="token string">'http://localhost:5000'</span>
organization <span class="token operator">=</span> <span class="token string">'datopian'</span>
dataset <span class="token operator">=</span> <span class="token string">'dailyprices'</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token function">Client</span><span class="token punctuation">(</span>apiKey<span class="token punctuation">,</span> organization<span class="token punctuation">,</span> dataset<span class="token punctuation">,</span> apiUrl<span class="token punctuation">)</span>
</code></pre></div><h3 id="upload-a-resource"><a href="#upload-a-resource" class="header-anchor">#</a> Upload a resource</h3> <p>That is to say, upload a file, implicitly creating a new dataset.</p> <h4 id="python-2"><a href="#python-2" class="header-anchor">#</a> Python</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> frictionless <span class="token keyword">import</span> describe


resource <span class="token operator">=</span> describe<span class="token punctuation">(</span><span class="token string">'my-data.csv'</span><span class="token punctuation">)</span>
client<span class="token punctuation">.</span>push_blob<span class="token punctuation">(</span>resource<span class="token punctuation">)</span>
</code></pre></div><h3 id="create-a-new-empty-dataset-with-metadata"><a href="#create-a-new-empty-dataset-with-metadata" class="header-anchor">#</a> Create a new empty Dataset with metadata</h3> <h4 id="python-3"><a href="#python-3" class="header-anchor">#</a> Python</h4> <div class="language-python extra-class"><pre class="language-python"><code>client<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token string">'my-data'</span><span class="token punctuation">)</span>
client<span class="token punctuation">.</span>push<span class="token punctuation">(</span>resource<span class="token punctuation">)</span>
</code></pre></div><h3 id="adding-a-resource-to-an-existing-dataset"><a href="#adding-a-resource-to-an-existing-dataset" class="header-anchor">#</a> Adding a resource to an existing Dataset</h3> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Not implemented yet.</p></div> <div class="language-python extra-class"><pre class="language-python"><code>client<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token string">'my-data'</span><span class="token punctuation">)</span>
client<span class="token punctuation">.</span>push_resource<span class="token punctuation">(</span>resource<span class="token punctuation">)</span>
</code></pre></div><h3 id="edit-a-dataset-s-metadata"><a href="#edit-a-dataset-s-metadata" class="header-anchor">#</a> Edit a Dataset’s metadata</h3> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Not implemented yet.</p></div> <div class="language-python extra-class"><pre class="language-python"><code>dataset <span class="token operator">=</span> client<span class="token punctuation">.</span>retrieve<span class="token punctuation">(</span><span class="token string">'sample-dataset'</span><span class="token punctuation">)</span>
client<span class="token punctuation">.</span>update_metadata<span class="token punctuation">(</span>
    dataset<span class="token punctuation">,</span>
    metadata<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'maintainer_email'</span><span class="token punctuation">:</span> <span class="token string">'sample@datopian.com'</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div><p>For details of metadata see the <a href="#metadata-reference">metadata reference below</a>.</p> <h2 id="api-porcelain"><a href="#api-porcelain" class="header-anchor">#</a> API - Porcelain</h2> <h3 id="client-create"><a href="#client-create" class="header-anchor">#</a> <code>Client.create</code></h3> <p>Expects as a single argument: a <em>string</em>, or a <em>dict</em> (in Python), or an <em>object</em> (in JavaScript). This argument is either a valid dataset name or dictionary with metadata for the dataset in Frictionless format.</p> <h3 id="client-push"><a href="#client-push" class="header-anchor">#</a> <code>Client.push</code></h3> <p>Expects a single argument: a <em>dict</em> (in Python) or an <em>object</em> (in JavaScript) with a dataset metadata in Frictionless format.</p> <h3 id="client-retrieve"><a href="#client-retrieve" class="header-anchor">#</a> <code>Client.retrieve</code></h3> <p>Expects a single argument: a string with a dataset name or uniquer ID. Returns a Frictionless resource as a <em>dict</em> (in Python) or as an <em>Promisse .&lt;object&gt;</em> (in JavaScript).</p> <h3 id="client-push-blob"><a href="#client-push-blob" class="header-anchor">#</a> <code>Client.push_blob</code></h3> <p>Expects a single argument: a <em>dict</em> (in Python) or an <em>object</em> (in JavaScript) with a Frictionless resource.</p> <h2 id="api-plumbing"><a href="#api-plumbing" class="header-anchor">#</a> API - Plumbing</h2> <h3 id="client-action"><a href="#client-action" class="header-anchor">#</a> <code>Client.action</code></h3> <p>This method bridges access to the CKAN API <em>action endpoint</em>.</p> <h4 id="in-python"><a href="#in-python" class="header-anchor">#</a> In Python</h4> <p>Arguments:</p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>name</code></td> <td><code>str</code></td> <td>(required)</td> <td>The action name, for example, <code>site_read</code>, <code>package_show</code>…</td></tr> <tr><td><code>payload</code></td> <td><code>dict</code></td> <td>(required)</td> <td>The payload being sent to CKAN. When a payload is provided to a GET request, it will be converted to URL parameters and each key will be converted to snake case.</td></tr> <tr><td><code>http_get</code></td> <td><code>bool</code></td> <td><code>False</code></td> <td>Optional, if <code>True</code> will make <code>GET</code> request, otherwise <code>POST</code>.</td></tr> <tr><td><code>transform_payload</code></td> <td><code>function</code></td> <td><code>None</code></td> <td>Function to mutate the <code>payload</code> before making the request (useful to convert to and from CKAN and Frictionless formats).</td></tr> <tr><td><code>transform_response</code></td> <td><code>function</code></td> <td><code>None</code></td> <td>function to mutate the response data before returning it (useful to convert to and from CKAN and Frictionless formats).</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>The CKAN API uses the CKAN dataset and resource formats (rather than Frictionless formats).</p> <p>In other words, to stick to Frictionless formats, you can pass <code>frictionless_ckan_mapper.frictionless_to_ckan</code> as <code>transform_payload</code>, and <code>frictionless_ckan_mapper.ckan_to_frictionless</code> as <code>transform_response</code>.</p></div> <h4 id="in-javascript"><a href="#in-javascript" class="header-anchor">#</a> In JavaScript</h4> <p>Arguments:</p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>actionName</code></td> <td><code>string</code></td> <td>(required)</td> <td>The action name, for example, <code>site_read</code>, <code>package_show</code>…</td></tr> <tr><td><code>payload</code></td> <td><code>object</code></td> <td>(required)</td> <td>The payload being sent to CKAN. When a payload is provided to a GET request, it will be converted to URL parameters and each key will be converted to snake case.</td></tr> <tr><td><code>useHttpGet</code></td> <td><code>object</code></td> <td><code>false</code></td> <td>Optional, if <code>True</code> will make <code>GET</code> request, otherwise <code>POST</code>.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>The JavaScript implementation uses the CKAN dataset and resource formats (rather than Frictionless formats).</p> <p>In other words, to stick to Frictionless formats, you need to convert from Frictionless to CKAN before calling <code>action</code> , and from CKAN to Frictionless after calling <code>action</code>.</p></div> <h2 id="metadata-reference"><a href="#metadata-reference" class="header-anchor">#</a> Metadata reference</h2> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Your site may have custom metadata that differs from the example set below.</p></div> <h3 id="profile"><a href="#profile" class="header-anchor">#</a> Profile</h3> <p><strong>(<code>string</code>)</strong> Defaults to <em>data-resource</em>.</p> <p>The profile of this descriptor.</p> <p>Every Package and Resource descriptor has a profile. The default profile, if none is declared, is <code>data-package</code> for Package and <code>data-resource</code> for Resource.</p> <h4 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h4> <ul><li><p><code>{&quot;profile&quot;:&quot;tabular-data-package&quot;}</code></p></li> <li><p><code>{&quot;profile&quot;:&quot;http://example.com/my-profiles-json-schema.json&quot;}</code></p></li></ul> <h3 id="name"><a href="#name" class="header-anchor">#</a> Name</h3> <p><strong>(<code>string</code>)</strong></p> <p>An identifier string. Lower case characters with <code>.</code>, <code>_</code>, <code>-</code> and <code>/</code> are allowed.</p> <p>This is ideally a url-usable and human-readable name. Name <code>SHOULD</code> be invariant, meaning it <code>SHOULD NOT</code> change when its parent descriptor is updated.</p> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;name&quot;:&quot;my-nice-name&quot;}</code></li></ul> <h3 id="path"><a href="#path" class="header-anchor">#</a> Path</h3> <p>A reference to the data for this resource, as either a path as a string, or an array of paths as strings. of valid URIs.</p> <p>The dereferenced value of each referenced data source in <code>path</code> <code>MUST</code> be commensurate with a native, dereferenced representation of the data the resource describes. For example, in a <em>Tabular</em> Data Resource, this means that the dereferenced value of <code>path</code> <code>MUST</code> be an array.</p> <h4 id="validation"><a href="#validation" class="header-anchor">#</a> Validation</h4> <h5 id="it-must-satisfy-one-of-these-conditions"><a href="#it-must-satisfy-one-of-these-conditions" class="header-anchor">#</a> It must satisfy one of these conditions</h5> <h6 id="path-2"><a href="#path-2" class="header-anchor">#</a> Path</h6> <p><strong>(<code>string</code>)</strong></p> <p>A fully qualified URL, or a POSIX file path…</p> <p>Implementations need to negotiate the type of path provided, and dereference the data accordingly.</p> <p><strong>Examples</strong></p> <ul><li><p><code>{&quot;path&quot;:&quot;file.csv&quot;}</code></p></li> <li><p><code>{&quot;path&quot;:&quot;http://example.com/file.csv&quot;}</code></p></li></ul> <p><strong>(<code>array</code>)</strong></p> <p><strong>Examples</strong></p> <ul><li><p><code>[&quot;file.csv&quot;]</code></p></li> <li><p><code>[&quot;http://example.com/file.csv&quot;]</code></p></li></ul> <h4 id="examples-2"><a href="#examples-2" class="header-anchor">#</a> Examples</h4> <ul><li><p><code>{&quot;path&quot;:[&quot;file.csv&quot;,&quot;file2.csv&quot;]}</code></p></li> <li><p><code>{&quot;path&quot;:[&quot;http://example.com/file.csv&quot;,&quot;http://example.com/file2.csv&quot;]}</code></p></li> <li><p><code>{&quot;path&quot;:&quot;http://example.com/file.csv&quot;}</code></p></li></ul> <h3 id="data"><a href="#data" class="header-anchor">#</a> Data</h3> <p>Inline data for this resource.</p> <h3 id="schema"><a href="#schema" class="header-anchor">#</a> Schema</h3> <p><strong>(<code>object</code>)</strong></p> <p>A schema for this resource.</p> <h3 id="title"><a href="#title" class="header-anchor">#</a> Title</h3> <p><strong>(<code>string</code>)</strong></p> <p>A human-readable title.</p> <h4 id="example-2"><a href="#example-2" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;title&quot;:&quot;My Package Title&quot;}</code></li></ul> <h3 id="description"><a href="#description" class="header-anchor">#</a> Description</h3> <p><strong>(<code>string</code>)</strong></p> <p>A text description. Markdown is encouraged.</p> <h4 id="example-3"><a href="#example-3" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;description&quot;:&quot;# My Package description\nAll about my package.&quot;}</code></li></ul> <h3 id="home-page"><a href="#home-page" class="header-anchor">#</a> Home Page</h3> <p><strong>(<code>string</code>)</strong></p> <p>The home on the web that is related to this data package.</p> <h4 id="example-4"><a href="#example-4" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;homepage&quot;:&quot;http://example.com/&quot;}</code></li></ul> <h3 id="sources"><a href="#sources" class="header-anchor">#</a> Sources</h3> <p><strong>(<code>array</code>)</strong></p> <p>The raw sources for this resource.</p> <h4 id="example-5"><a href="#example-5" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;sources&quot;:[{&quot;title&quot;:&quot;World Bank and OECD&quot;,&quot;path&quot;:&quot;http://data.worldbank.org/indicator/NY.GDP.MKTP.CD&quot;}]}</code></li></ul> <h3 id="licenses"><a href="#licenses" class="header-anchor">#</a> Licenses</h3> <p><strong>(<code>array</code>)</strong></p> <p>The license(s) under which the resource is published.</p> <p>This property is not legally binding and does not guarantee that the package is licensed under the terms defined herein.</p> <h4 id="example-6"><a href="#example-6" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;licenses&quot;:[{&quot;name&quot;:&quot;odc-pddl-1.0&quot;,&quot;path&quot;:&quot;http://opendatacommons.org/licenses/pddl/&quot;,&quot;title&quot;:&quot;Open Data Commons Public Domain Dedication and License v1.0&quot;}]}</code></li></ul> <h3 id="format"><a href="#format" class="header-anchor">#</a> Format</h3> <p><strong>(<code>string</code>)</strong></p> <p>The file format of this resource.</p> <p><code>csv</code>, <code>xls</code>, <code>json</code> are examples of common formats.</p> <h4 id="example-7"><a href="#example-7" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;format&quot;:&quot;xls&quot;}</code></li></ul> <h3 id="media-type"><a href="#media-type" class="header-anchor">#</a> Media Type</h3> <p><strong>(<code>string</code>)</strong></p> <p>The media type of this resource. Can be any valid media type listed with <a href="https://www.iana.org/assignments/media-types/media-types.xhtml" target="_blank" rel="noopener noreferrer">IANA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="example-8"><a href="#example-8" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;mediatype&quot;:&quot;text/csv&quot;}</code></li></ul> <h3 id="encoding"><a href="#encoding" class="header-anchor">#</a> Encoding</h3> <p><strong>(<code>string</code>)</strong> Defaults to <em>utf-8</em>.</p> <p>The file encoding of this resource.</p> <h4 id="example-9"><a href="#example-9" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;encoding&quot;:&quot;utf-8&quot;}</code></li></ul> <h3 id="bytes"><a href="#bytes" class="header-anchor">#</a> Bytes</h3> <p><strong>(<code>integer</code>)</strong></p> <p>The size of this resource in bytes.</p> <h4 id="example-10"><a href="#example-10" class="header-anchor">#</a> Example</h4> <ul><li><code>{&quot;bytes&quot;:2082}</code></li></ul> <h3 id="hash"><a href="#hash" class="header-anchor">#</a> Hash</h3> <p><strong>(<code>string</code>)</strong></p> <p>The MD5 hash of this resource. Indicate other hashing algorithms with the {algorithm}:{hash} format.</p> <h4 id="examples-3"><a href="#examples-3" class="header-anchor">#</a> Examples</h4> <ul><li><p><code>{&quot;hash&quot;:&quot;d25c9c77f588f5dc32059d2da1136c02&quot;}</code></p></li> <li><p><code>{&quot;hash&quot;:&quot;SHA256:5262f12512590031bbcc9a430452bfd75c2791ad6771320bb4b5728bfb78c4d0&quot;}</code></p></li></ul> <h2 id="generating-templates"><a href="#generating-templates" class="header-anchor">#</a> Generating templates</h2> <p>You can use <a href="https://github.com/datopian/jsv" target="_blank" rel="noopener noreferrer"><code>jsv</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to generate a template  script in Python, JavaScript, and R.</p> <p>To install it:</p> <div class="language- extra-class"><pre class="language-text"><code>$ npm install -g git+https://github.com/datopian/jsv.git
</code></pre></div><h3 id="python-4"><a href="#python-4" class="header-anchor">#</a> Python</h3> <div class="language- extra-class"><pre class="language-text"><code>$ jsv data-resource.json --output py
</code></pre></div><details class="custom-block details"><summary>Output</summary> <div class="language-python extra-class"><pre class="language-python"><code>dataset_metadata <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;profile&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;data-resource&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># The profile of this descriptor.</span>
    <span class="token comment"># [example] &quot;profile&quot;: &quot;tabular-data-package&quot;</span>
    <span class="token comment"># [example] &quot;profile&quot;: &quot;http://example.com/my-profiles-json-schema.json&quot;</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;my-nice-name&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># An identifier string. Lower case characters with `.`, `_`, `-` and `/` are allowed.</span>
    <span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;file.csv&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;file2.csv&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># A reference to the data for this resource, as either a path as a string, or an array of paths as strings. of valid URIs.</span>
    <span class="token comment"># [example] &quot;path&quot;: [&quot;http://example.com/file.csv&quot;,&quot;http://example.com/file2.csv&quot;]</span>
    <span class="token comment"># [example] &quot;path&quot;: &quot;http://example.com/file.csv&quot;</span>
    <span class="token string">&quot;data&quot;</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># Inline data for this resource.</span>
    <span class="token string">&quot;schema&quot;</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">,</span>  <span class="token comment"># A schema for this resource.</span>
    <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;My Package Title&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># A human-readable title.</span>
    <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;# My Package description\nAll about my package.&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># A text description. Markdown is encouraged.</span>
    <span class="token string">&quot;homepage&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http://example.com/&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># The home on the web that is related to this data package.</span>
    <span class="token string">&quot;sources&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;World Bank and OECD&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;http://data.worldbank.org/indicator/NY.GDP.MKTP.CD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># The raw sources for this resource.</span>
    <span class="token string">&quot;licenses&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;odc-pddl-1.0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;http://opendatacommons.org/licenses/pddl/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;Open Data Commons Public Domain Dedication and License v1.0&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># The license(s) under which the resource is published.</span>
    <span class="token string">&quot;format&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;xls&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># The file format of this resource.</span>
    <span class="token string">&quot;mediatype&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># The media type of this resource. Can be any valid media type listed with [IANA](https://www.iana.org/assignments/media-types/media-types.xhtml).</span>
    <span class="token string">&quot;encoding&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># The file encoding of this resource.</span>
    <span class="token comment"># [example] &quot;encoding&quot;: &quot;utf-8&quot;</span>
    <span class="token string">&quot;bytes&quot;</span><span class="token punctuation">:</span> <span class="token number">2082</span><span class="token punctuation">,</span>  <span class="token comment"># The size of this resource in bytes.</span>
    <span class="token string">&quot;hash&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;d25c9c77f588f5dc32059d2da1136c02&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># The MD5 hash of this resource. Indicate other hashing algorithms with the {algorithm}:{hash} format.</span>
    <span class="token comment"># [example] &quot;hash&quot;: &quot;SHA256:5262f12512590031bbcc9a430452bfd75c2791ad6771320bb4b5728bfb78c4d0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <h3 id="javascript-2"><a href="#javascript-2" class="header-anchor">#</a> JavaScript</h3> <div class="language- extra-class"><pre class="language-text"><code>$ jsv data-resource.json --output js
</code></pre></div><details class="custom-block details"><summary>Output</summary> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> datasetMetadata <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// The profile of this descriptor.</span>
  profile<span class="token operator">:</span> <span class="token string">&quot;data-resource&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// [example] profile: &quot;tabular-data-package&quot;</span>
  <span class="token comment">// [example] profile: &quot;http://example.com/my-profiles-json-schema.json&quot;</span>
  <span class="token comment">// An identifier string. Lower case characters with `.`, `_`, `-` and `/` are allowed.</span>
  name<span class="token operator">:</span> <span class="token string">&quot;my-nice-name&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// A reference to the data for this resource, as either a path as a string, or an array of paths as strings. of valid URIs.</span>
  path<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;file.csv&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file2.csv&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// [example] path: [&quot;http://example.com/file.csv&quot;,&quot;http://example.com/file2.csv&quot;]</span>
  <span class="token comment">// [example] path: &quot;http://example.com/file.csv&quot;</span>
  <span class="token comment">// Inline data for this resource.</span>
  data<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// A schema for this resource.</span>
  schema<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// A human-readable title.</span>
  title<span class="token operator">:</span> <span class="token string">&quot;My Package Title&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// A text description. Markdown is encouraged.</span>
  description<span class="token operator">:</span> <span class="token string">&quot;# My Package description\nAll about my package.&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// The home on the web that is related to this data package.</span>
  homepage<span class="token operator">:</span> <span class="token string">&quot;http://example.com/&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// The raw sources for this resource.</span>
  sources<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&quot;World Bank and OECD&quot;</span><span class="token punctuation">,</span>
      path<span class="token operator">:</span> <span class="token string">&quot;http://data.worldbank.org/indicator/NY.GDP.MKTP.CD&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// The license(s) under which the resource is published.</span>
  licenses<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">&quot;odc-pddl-1.0&quot;</span><span class="token punctuation">,</span>
      path<span class="token operator">:</span> <span class="token string">&quot;http://opendatacommons.org/licenses/pddl/&quot;</span><span class="token punctuation">,</span>
      title<span class="token operator">:</span> <span class="token string">&quot;Open Data Commons Public Domain Dedication and License v1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// The file format of this resource.</span>
  format<span class="token operator">:</span> <span class="token string">&quot;xls&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// The media type of this resource. Can be any valid media type listed with [IANA](https://www.iana.org/assignments/media-types/media-types.xhtml).</span>
  mediatype<span class="token operator">:</span> <span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// The file encoding of this resource.</span>
  encoding<span class="token operator">:</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// [example] encoding: &quot;utf-8&quot;</span>
  <span class="token comment">// The size of this resource in bytes.</span>
  bytes<span class="token operator">:</span> <span class="token number">2082</span><span class="token punctuation">,</span>
  <span class="token comment">// The MD5 hash of this resource. Indicate other hashing algorithms with the {algorithm}:{hash} format.</span>
  hash<span class="token operator">:</span> <span class="token string">&quot;d25c9c77f588f5dc32059d2da1136c02&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// [example] hash: &quot;SHA256:5262f12512590031bbcc9a430452bfd75c2791ad6771320bb4b5728bfb78c4d0&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <h3 id="r"><a href="#r" class="header-anchor">#</a> R</h3> <div class="language- extra-class"><pre class="language-text"><code>$ jsv data-resource.json --output r
</code></pre></div><details class="custom-block details"><summary>Output</summary> <div class="language-r extra-class"><pre class="language-r"><code><span class="token comment"># The profile of this descriptor.</span>
profile <span class="token operator">&lt;-</span> <span class="token string">&quot;data-resource&quot;</span>
<span class="token comment"># [example] profile &lt;- &quot;tabular-data-package&quot;</span>
<span class="token comment"># [example] profile &lt;- &quot;http://example.com/my-profiles-json-schema.json&quot;</span>
<span class="token comment"># An identifier string. Lower case characters with `.`, `_`, `-` and `/` are allowed.</span>
name <span class="token operator">&lt;-</span> <span class="token string">&quot;my-nice-name&quot;</span>
<span class="token comment"># A reference to the data for this resource, as either a path as a string, or an array of paths as strings. of valid URIs.</span>
path <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token string">&quot;file.csv&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;file2.csv&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># [example] path &lt;- [&quot;http://example.com/file.csv&quot;,&quot;http://example.com/file2.csv&quot;]</span>
<span class="token comment"># [example] path &lt;- &quot;http://example.com/file.csv&quot;</span>
<span class="token comment"># Inline data for this resource.</span>
data <span class="token operator">&lt;-</span> <span class="token keyword">NA</span>
<span class="token comment"># A schema for this resource.</span>
schema <span class="token operator">&lt;-</span> <span class="token keyword">NA</span>
<span class="token comment"># A human-readable title.</span>
title <span class="token operator">&lt;-</span> <span class="token string">&quot;My Package Title&quot;</span>
<span class="token comment"># A text description. Markdown is encouraged.</span>
description <span class="token operator">&lt;-</span> <span class="token string">&quot;# My Package description\nAll about my package.&quot;</span>
<span class="token comment"># The home on the web that is related to this data package.</span>
homepage <span class="token operator">&lt;-</span> <span class="token string">&quot;http://example.com/&quot;</span>
<span class="token comment"># The raw sources for this resource.</span>
sources <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;World Bank and OECD&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;path&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://data.worldbank.org/indicator/NY.GDP.MKTP.CD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment"># The license(s) under which the resource is published.</span>
licenses <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;odc-pddl-1.0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;path&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://opendatacommons.org/licenses/pddl/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;Open Data Commons Public Domain Dedication and License v1.0&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment"># The file format of this resource.</span>
format <span class="token operator">&lt;-</span> <span class="token string">&quot;xls&quot;</span>
<span class="token comment"># The media type of this resource. Can be any valid media type listed with [IANA](https://www.iana.org/assignments/media-types/media-types.xhtml).</span>
mediatype <span class="token operator">&lt;-</span> <span class="token string">&quot;text/csv&quot;</span>
<span class="token comment"># The file encoding of this resource.</span>
encoding <span class="token operator">&lt;-</span> <span class="token string">&quot;utf-8&quot;</span>
<span class="token comment"># [example] encoding &lt;- &quot;utf-8&quot;</span>
<span class="token comment"># The size of this resource in bytes.</span>
bytes <span class="token operator">&lt;-</span> <span class="token number">2082L</span>
<span class="token comment"># The MD5 hash of this resource. Indicate other hashing algorithms with the {algorithm}:{hash} format.</span>
hash <span class="token operator">&lt;-</span> <span class="token string">&quot;d25c9c77f588f5dc32059d2da1136c02&quot;</span>
<span class="token comment"># [example] hash &lt;- &quot;SHA256:5262f12512590031bbcc9a430452bfd75c2791ad6771320bb4b5728bfb78c4d0&quot;</span>

</code></pre></div></details> <h2 id="design-principles"><a href="#design-principles" class="header-anchor">#</a> Design Principles</h2> <p>The client <strong>should</strong> use Frictionless formats by default for describing dataset and resource objects passed to client methods.</p> <p>In addition, where more than metadata is needed (e.g., we need to access the data stream, or get the schema) we expect the <em>Dataset</em> and <em>Resource</em> objects to follow the <a href="https://github.com/frictionlessdata/project/blob/master/rfcs/0004-frictionless-data-lib-pattern.md" target="_blank" rel="noopener noreferrer">Frictionless Data Lib pattern<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/datopian/tech.datopian.com/edit/master/ckan-client-guide/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Modified:</span> <span class="time">3/15/2021, 5:24:49 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b3b2fcd5.js" defer></script><script src="/assets/js/3.fa4bc789.js" defer></script><script src="/assets/js/17.b381cf63.js" defer></script>
  </body>
</html>
