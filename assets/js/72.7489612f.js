(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{408:function(e,a,t){"use strict";t.r(a);var o=t(25),s=function(e){e.options.__data__block__={mermaid_64a56198:"graph LR\n\nsubgraph Factory\n  read --\x3e process\n  process --\x3e load\n  orchestrator\nend\nload --\x3e db[DB = DataStore]\n\norchestrator --\x3e api\napi --\x3e wui[Dataset Admin UI]\n",mermaid_64a56166:"graph LR\n\nsubgraph Factory\n  read --\x3e process\n  process --\x3e load[Load - sync with CKAN]\n  orchestrator\nend\nload --\x3e db[DB = MetaStore]\n\norchestrator --\x3e api\napi --\x3e wui[Harvesting Admin UI]\n",mermaid_64a5429a:'graph TD\n\ncell[Cell]\nrow[Row]\ncolumn[Column]\ntable["Table (Sheet)"]\ncube["Database (Dataset)"]\n\ncell --\x3e row\ncell --\x3e column\nrow --\x3e table\ncolumn --\x3e  table\ntable --\x3e cube\n'}},r=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"notebook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#notebook"}},[e._v("#")]),e._v(" Notebook")]),e._v(" "),t("p",[e._v("Our lab notebook. Informal thoughts. A very raw blog.")]),e._v(" "),t("h2",{attrs:{id:"a-dms-is-a-tool-a-data-portal-is-a-solution-2021-03-14-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-dms-is-a-tool-a-data-portal-is-a-solution-2021-03-14-rufuspollock"}},[e._v("#")]),e._v(" A DMS is a tool, a Data Portal is a solution 2021-03-14 @rufuspollock")]),e._v(" "),t("p",[e._v("Over the years, we’ve seen many different terms used to describe software like CKAN and the solutions it is used to create e.g. data catalog, data portal, data management system, data platform etc.")]),e._v(" "),t("p",[e._v("Over time, personally, I’ve converged towards "),t("RouterLink",{attrs:{to:"/dms/"}},[e._v("data management system (DMS)")]),e._v(" and "),t("a",{attrs:{href:"/data-portals"}},[e._v("data portal")]),e._v(". But I’ve still got two terms and even people in my own team ask me to clarify what the difference is. Recently it became clear to me:")],1),e._v(" "),t("p",[t("strong",[e._v("A data management system (DMS) is a tool. A data portal is a solution.")])]),e._v(" "),t("p",[e._v("And a data management system is a tool you can use to build a data portal. Just like you can use a hammer to build a house.")]),e._v(" "),t("h2",{attrs:{id:"data-factory-concepts-2020-09-03-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-factory-concepts-2020-09-03-rufuspollock"}},[e._v("#")]),e._v(" Data Factory Concepts 2020-09-03 @rufuspollock")]),e._v(" "),t("p",[e._v("Had this conceptual diagram hanging round for a couple of years.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Objects\n\nRow\n  File\n    Dataset\n\nTransformations\n\nOperator\n  Pipeline\n    Flow \n")])])]),t("p",[e._v("NTS")]),e._v(" "),t("ul",[t("li",[e._v("A factory could be a (DA)G of flows b/c could be dependencies between them … e.g. run ComputeKeyMetrics only after all other flows have run …")]),e._v(" "),t("li",[e._v("But not always like that: flows can be completely independent.")])]),e._v(" "),t("h2",{attrs:{id:"current-data-factory-components-early-2019"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#current-data-factory-components-early-2019"}},[e._v("#")]),e._v(" Current Data Factory Components (early 2019)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("      Factory - Runners, SaaS platform etc\n\ndatapackage-pipelines -> (dataflows-server / dataflows-runner)\ndataflows-cli : generators, hello-world, 'init', 'run'\ngoodtables.io\n\"blueprints\": standard setups for a factory (auto-guessed?)\n\n            DataFlows: Flow Libs\n\ndataflows : processor definition and chaining\nprocessors-library: stdlib, user contributed items [dataflows-load-csv]\n\n            Data Package Libs\n\ndata.py, DataPackage-py, GoodTables, ...\ntabulator, tableschema\n")])])]),t("h2",{attrs:{id:"composition-vs-inheritance-approaches-to-building-applications-and-esp-web-apps-2020-08-20-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#composition-vs-inheritance-approaches-to-building-applications-and-esp-web-apps-2020-08-20-rufuspollock"}},[e._v("#")]),e._v(" Composition vs Inheritance approaches to building applications and esp web apps 2020-08-20 @rufuspollock")]),e._v(" "),t("p",[e._v("tl;dr: composition is better than inheritance but many systems are built with inheritance")]),e._v(" "),t("p",[e._v("Imagine we want a page like this:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<header>\n{{title}}\n</footer>\n")])])]),t("p",[e._v("Inheritance / Slot model")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("def render_home:\n  return render('base_template.html'< {\n    title=\"hello world\"\n  })\n")])])]),t("p",[e._v("Composition / declarative")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("def render_home:\n  mytitle = 'hello world'\n  response.write(get_header())\n  response.write(mytitle)\n  response.write(get_footer()\n")])])]),t("p",[e._v("You can write templates two ways:")]),e._v(" "),t("h3",{attrs:{id:"inheritance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inheritance"}},[e._v("#")]),e._v(" Inheritance")]),e._v(" "),t("p",[e._v("Base template")]),e._v(" "),t("div",{staticClass:"language-html extra-class"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[e._v("# base.html\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("header")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("{{title}}"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n\n{{content}}\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("footer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("p",[t("code",[e._v("blog-post.html")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{%extends base.html %}\n<block name="title">{{title}} -- Blog</block>\n')])])]),t("h3",{attrs:{id:"composition"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#composition"}},[e._v("#")]),e._v(" Composition")]),e._v(" "),t("p",[t("code",[e._v("blog-post.html")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<include/partial name='header.html' title=\"...\"/>\n\n{{content}}\n\n<include name='footer.html' />\n")])])]),t("h2",{attrs:{id:"how-views-should-work-in-ckan-v3-next-gen-2020-08-10-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-views-should-work-in-ckan-v3-next-gen-2020-08-10-rufuspollock"}},[e._v("#")]),e._v(" How Views should work in CKAN v3 (Next Gen) 2020-08-10  @rufuspollock")]),e._v(" "),t("p",[e._v("Two key points:")]),e._v(" "),t("ol",[t("li",[e._v("Views should become an explicit (data) project level object")]),e._v(" "),t("li",[e._v("Previews: should be very simple and work "),t("em",[e._v("without")]),e._v(" data API")])]),e._v(" "),t("p",[e._v("Why?")]),e._v(" "),t("ul",[t("li",[e._v("Views should become an explicit (data) project level object\n"),t("ul",[t("li",[e._v("So I can show a view on dataset page (atm I can’t)")]),e._v(" "),t("li",[e._v("I have multiview view inside reclinejs but rest are single views … (this is confusing)")]),e._v(" "),t("li",[e._v("I can’t create views across multiple resources")]),e._v(" "),t("li",[e._v("They are nested under resources but they aren’t really part of a resource")])])]),e._v(" "),t("li",[e._v("Previews: should be very simple and work "),t("em",[e._v("without")]),e._v(" data API\n"),t("ul",[t("li",[e._v("so they work with revisions (atm views often depend on data API which causes problems with revisions and viewing old revisions of resources)")])])])]),e._v(" "),t("p",[e._v("Distinguish 3 concepts")]),e._v(" "),t("ul",[t("li",[e._v("Preview: a very simple method for previewing specific raw data types e.g. csv, excel, json, xml, text, geojson etc …\n"),t("ul",[t("li",[e._v("Key aspect are ability to sample a part and to present.")])])]),e._v(" "),t("li",[e._v("Viz: graph, map, … (visualizations)")]),e._v(" "),t("li",[e._v("Query UI: UI for creating queries")]),e._v(" "),t("li",[e._v("Viz Builder: a UI for creating charts, tables, maps etc")]),e._v(" "),t("li",[e._v("Explorer (dashboard): combines query UI, Viz Builder and Viz Renderer")])]),e._v(" "),t("h2",{attrs:{id:"what-a-future-data-project-looks-like"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-a-future-data-project-looks-like"}},[e._v("#")]),e._v(" What a (future) Data Project looks like")]),e._v(" "),t("p",[e._v("NB: To understand what a project is see "),t("RouterLink",{attrs:{to:"/dms/"}},[e._v("DMS")]),e._v(".")],1),e._v(" "),t("p",[e._v("It helps me to be very concreate and imagine what this looks looks like on disk:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("datapackage.json # dataset\ndata.csv    # dataset resources (could be anywhere)\nviews.yml\ndata-api.yml\nflows.yml\n")])])]),t("p",[e._v("Or, a bit more elegantly:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("data/\n  gdp.csv | gdp.pdf | ...\nviews/\n  graph.json | table.json | ...\napi/\n  gdp.json | gdp-ppp.json | ...\nflows/\n  ...\nREADME.md\ndatapackage.json    # ? does this just contain resources or more than that? Just resources\n")])])]),t("h2",{attrs:{id:"data-factory-2020-07-23-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-factory-2020-07-23-rufuspollock"}},[e._v("#")]),e._v(" Data Factory 2020-07-23 @rufuspollock")]),e._v(" "),t("p",[e._v("I’ve used the term Data Factory but it’s not in common use. At the same time, there doesn’t seem to be a good term out there in common use for what I’m referring to.")]),e._v(" "),t("p",[e._v("What am I referring to?")]),e._v(" "),t("p",[e._v("I can start with terms we do have decent-ish terminlogy for: data pipelines or data flows.")]),e._v(" "),t("p",[e._v("Idea is reasonably simple: I’m doing stuff to some data and it involves a series of processing steps which I want to run in order. It may get more complex: rather than a linear sequence of tasks I may have branching and/or parallelization.")]),e._v(" "),t("p",[e._v("Because data “flows” through these steps from one end to the otehr we end up with terminology like “flow” or “pipeline”.")]),e._v(" "),t("p",[e._v("Broken down into its components we have two things:")]),e._v(" "),t("ul",[t("li",[e._v("Tasks: the individual processing nodes, i.e. a single operator on a unit of data (aka Processors / Operators)")]),e._v(" "),t("li",[e._v("Pipeline: which combines these tasks into a whole (aka Flow, Graph, DAG …). It is a DAG (directed acycle graph) of processors starting from one or more sources and ending in one or more sinks. Note the simple case of a linear flow is very common.")])]),e._v(" "),t("p",[e._v("[NB: tasks in an actual flow could either be bespoke to that flow or are configured instances of a template / abstract tasks e.g. load from s3 might be be a template task which as a live task in an actual flow will be configured with a specific bucket.]")]),e._v(" "),t("p",[e._v("So far, so good.")]),e._v(" "),t("p",[e._v("But what is the name for a system (like AirFlow, Luigi) for creating, managing and running data pipelines?")]),e._v(" "),t("p",[e._v("My answer: a Data Factory.")]),e._v(" "),t("p",[e._v("What I don’t like with this is that it messes with the metaphor: factories are different from pipelines. If we went with Data Factory then we should talk about “assembly lines” rather than “pipelines” and “workers” (?) rather than tasks. If one stuck with water we’d end up with something like a Data Plant but that sounds weird.")]),e._v(" "),t("p",[e._v("Analogy: for data we clearly have a file and dataset. And a system for organizing and managing datasets is a data catalog or data management system. So what’s the name for the system for processing datasets …")]),e._v(" "),t("p",[e._v("And finally 🏁 I should mention "),t("a",{attrs:{href:"https://github.com/datopian/aircan/",target:"_blank",rel:"noopener noreferrer"}},[e._v("AirCan"),t("OutboundLink")],1),e._v(", our own Data Factory system we’ve been developing built on AirFlow.")]),e._v(" "),t("h3",{attrs:{id:"appendix-terminology-match-up"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#appendix-terminology-match-up"}},[e._v("#")]),e._v(" Appendix: Terminology match up")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Concept")]),e._v(" "),t("th",[e._v("Airflow")]),e._v(" "),t("th",[e._v("Luigi")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("Processor")]),e._v(" "),t("td",[e._v("Task")]),e._v(" "),t("td",[e._v("Task")])]),e._v(" "),t("tr",[t("td",[e._v("Pipeline")]),e._v(" "),t("td",[e._v("DAG")]),e._v(" "),t("td",[e._v("?")])]),e._v(" "),t("tr",[t("td",[e._v("Pipeline (complex, branching)")]),e._v(" "),t("td",[e._v("DAG")]),e._v(" "),t("td")])])]),e._v(" "),t("h2",{attrs:{id:"commonalities-of-harvesting-and-data-store-loading-2020-06-01-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commonalities-of-harvesting-and-data-store-loading-2020-06-01-rufuspollock"}},[e._v("#")]),e._v(" Commonalities of Harvesting and Data(Store) Loading 2020-06-01 @rufuspollock")]),e._v(" "),t("p",[e._v("tags: portal, load, factory")]),e._v(" "),t("p",[e._v("Harvesting and data loading (for data API) are almost identical as mechanisms. As such, they can share the same “data factory” system.")]),e._v(" "),t("p",[e._v("Data API load to backing DB (CKAN DataStore + DataPusher stuff)")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a56198",graph:e.$dataBlock.mermaid_64a56198}}),t("p",[e._v("Harvesting")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a56166",graph:e.$dataBlock.mermaid_64a56166}}),t("h2",{attrs:{id:"_10-things-i-regret-about-nodejs-by-ryan-dahl-2018-2020-05-17-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-things-i-regret-about-nodejs-by-ryan-dahl-2018-2020-05-17-rufuspollock"}},[e._v("#")]),e._v(" 10 things I regret about NodeJS by Ryan Dahl (2018) 2020-05-17 @rufuspollock")]),e._v(" "),t("p",[e._v("Valuable generally and more great lessons for data packaging.")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.youtube.com/watch?v=M3BM9TB-8yA",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.youtube.com/watch?v=M3BM9TB-8yA"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"package-json-and-npm-were-a-mistake"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-json-and-npm-were-a-mistake"}},[e._v("#")]),e._v(" package.json and npm were a mistake")]),e._v(" "),t("p",[e._v("Why package.json was a mistake: "),t("a",{attrs:{href:"https://youtu.be/M3BM9TB-8yA?t=595",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://youtu.be/M3BM9TB-8yA?t=595"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/Ia0qtVm.png",alt:""}})]),e._v(" "),t("ul",[t("li",[t("code",[e._v("npm")]),e._v(" + a centralized repo are unnecessary (and were a mistake)")]),e._v(" "),t("li",[e._v("doesn’t like centralized npm repo (I agree) and look what go are doing. Sure, you probably have something via the backdoor at the end (e.g. go is getting that) for caching and reliability purposes, but it is not strictly necessary.")])]),e._v(" "),t("p",[e._v("ASIDE: It’s the core tool (node) that make a metadata format and packager relevant and successful. It’s node require allowing using of "),t("code",[e._v("package.json")]),e._v(" or bundling "),t("code",[e._v("npm")]),e._v(" in by defaultonly")]),e._v(" "),t("ul",[t("li",[e._v("Kind of obvious when you think about it")]),e._v(" "),t("li",[e._v("Something i’ve always said re Data Packages (but not strongly enough and not followed enough): the tooling comes first and the format is, in many ways, a secondary conveinience. To be fair to myself (and others) we did write "),t("code",[e._v("dpm")]),e._v(" first (in 2007!), and do a lot of stuff with the workflow and toolchain but its easy to get distracted.")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/5E0Hffs.png",alt:""}})]),e._v(" "),t("ul",[t("li",[e._v("modules aren’t strictly necessary and "),t("code",[e._v("package.json")]),e._v(" metadata is not needed")]),e._v(" "),t("li",[e._v("on the web you just have js file and you can include them …")]),e._v(" "),t("li",[e._v("“package.json has all this unnecessary noise in it. like license, repository. Why am i filling this out. I feel like a book-keeper or something. This is just unnecessary stuff "),t("em",[e._v("to do")]),e._v(" when all I am trying to do is link to a library” [ed: "),t("strong",[e._v("I think this is a major relevance for Data Packages. There’s a tension between the book-keepers who want lots of metadata for publishing etc … and … the data science and data engineers who just want to get something done. If I had a choice (and I do!) I would prioritize the latter massively. And they just care about stuff like a) table schema b) get me the data on my hard disk fast")]),e._v("]")]),e._v(" "),t("li",[e._v("“If only relative files and URLs were used when importing, the path defines the version. There is no need to list dependencies” [ed: cf Go that did this right]\n"),t("ul",[t("li",[e._v("And he’s borrowed from Go for deno.land")])])])]),e._v(" "),t("h3",{attrs:{id:"vendoring-by-default-with-node-modules-was-a-mistake"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vendoring-by-default-with-node-modules-was-a-mistake"}},[e._v("#")]),e._v(" Vendoring by default with "),t("code",[e._v("node_modules")]),e._v(" was a mistake")]),e._v(" "),t("p",[e._v("Vendoring by default with "),t("code",[e._v("node_modules")]),e._v(" was a mistake - just use an env variable "),t("code",[e._v("$NODE_PATH")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("node_modules")]),e._v(" then becomes massive")]),e._v(" "),t("li",[e._v("module resolution is (needlessly) complex")])]),e._v(" "),t("h3",{attrs:{id:"general-point-kiss-yagni"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#general-point-kiss-yagni"}},[e._v("#")]),e._v(" General point: KISS / YAGNI")]),e._v(" "),t("p",[e._v("E.g. "),t("code",[e._v("index.js")]),e._v("was “cute” but unnecessary, allowing "),t("code",[e._v("require xxx")]),e._v(" without an extension (e.g. "),t("code",[e._v(".js")]),e._v(" or "),t("code",[e._v(".ts")]),e._v(" ) means you have to probe the file system.")]),e._v(" "),t("p",[e._v("+data package. +data packaging. +frictionless. +lessons")]),e._v(" "),t("h2",{attrs:{id:"go-modules-and-dependency-management-re-data-package-management-2020-05-16-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-modules-and-dependency-management-re-data-package-management-2020-05-16-rufuspollock"}},[e._v("#")]),e._v(" Go modules and dependency management (re data package management) 2020-05-16 @rufuspollock")]),e._v(" "),t("p",[e._v("Generally Go does stuff well. They also punted on dependency management initially. First, you just installed a url it was up to you to manage your depedencies. Then there was a period of chaos as several package/dependency managers fought it out (GoDeps etc). Then, ~ 2018 the community came together led by Russ Cox and came up with a very solid proposal which is official as of 2019.")]),e._v(" "),t("p",[e._v("Go’s approach to module (package) and dependency management can be an inspiration for Frictionless and Data Packages. Just as we learnt and borrowed a lot from Python and Node so we can learn and borrow from Go.")]),e._v(" "),t("ol",[t("li",[e._v("Overview (by Russ Cox the author): "),t("a",{attrs:{href:"https://research.swtch.com/vgo",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://research.swtch.com/vgo"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("The Principles of Versioning in Go "),t("a",{attrs:{href:"https://research.swtch.com/vgo-principles",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://research.swtch.com/vgo-principles"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("A Tour of Versioned Go (vgo) "),t("a",{attrs:{href:"https://research.swtch.com/vgo-tour",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://research.swtch.com/vgo-tour"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("cmd/go: add package version support to Go toolchain "),t("a",{attrs:{href:"https://github.com/golang/go/issues/24301",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/golang/go/issues/24301"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Using Go Modules - "),t("a",{attrs:{href:"https://blog.golang.org/using-go-modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://blog.golang.org/using-go-modules"),t("OutboundLink")],1),e._v(" (official introduction on go blog)")]),e._v(" "),t("li",[e._v("Publishing Go Modules "),t("a",{attrs:{href:"https://blog.golang.org/publishing-go-modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://blog.golang.org/publishing-go-modules"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Main wiki article and overview "),t("a",{attrs:{href:"https://github.com/golang/go/wiki/Modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/golang/go/wiki/Modules"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"key-principles"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#key-principles"}},[e._v("#")]),e._v(" Key principles")]),e._v(" "),t("blockquote",[t("p",[e._v("These are the three principles of versioning in Go, the reasons that the design of Go modules deviates from the design of Dep, Cargo, Bundler, and others.")]),e._v(" "),t("ol",[t("li",[e._v("Compatibility. The meaning of a name in a program should not change over time.")]),e._v(" "),t("li",[e._v("Repeatability. The result of a build of a given version of a package should not change over time. "),t("a",{attrs:{href:"https://research.swtch.com/vgo-principles#repeatability",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://research.swtch.com/vgo-principles#repeatability"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Cooperation. To maintain the Go package ecosystem, we must all work together. Tools cannot work around a lack of cooperation.")])])]),e._v(" "),t("p",[e._v("Summary")]),e._v(" "),t("ul",[t("li",[e._v("Go used urls for identifiers for packages (including special cases for github)\n"),t("ul",[t("li",[e._v("e.g. "),t("code",[e._v("import rsc.io/quote")])]),e._v(" "),t("li",[e._v("Brilliant! No more dependency resolution via some central service. Just use the internet.")])])]),e._v(" "),t("li",[e._v("Go installed packages via "),t("code",[e._v("go get")]),e._v(" e.g. "),t("code",[e._v("go get rsc.io/quote")]),e._v(". This would install the module into "),t("code",[e._v("$GOPATH")]),e._v(" at "),t("code",[e._v("rsc.io/quote")]),e._v(" "),t("ul",[t("li",[e._v("They did the absolute minimum: grab the files onto your hard disk under "),t("code",[e._v("$GOPATH/src")]),e._v(". "),t("code",[e._v("import")]),e._v(" would then search this (IIUC)")])])]),e._v(" "),t("li",[e._v("There was no way originally to get a version but with go modules (go > 1.11) you could do "),t("code",[e._v("go get rsc.io/quote@[version]")])]),e._v(" "),t("li",[e._v("Dependency management is actually complex: satisfying dependency requirements is NP complete. Solve this by …\n"),t("ul",[t("li",[t("p",[e._v("The Node/Bundler/Cargo/Dep approach is one answer. Allow authors to specify arbitrary constraints on their dependencies. Build a given target by collecting all its dependencies recursively and finding a configuration satisfying all those constraints. => SAT solver => this is complex.")])]),e._v(" "),t("li",[t("p",[e._v("Go has a different solution")])]),e._v(" "),t("li",[t("p",[e._v("Versioning is central to dependency management => you need to get really clear on versioning. Establish a community rule that you can only break compatibility with major versions …")])]),e._v(" "),t("li",[t("p",[e._v("Put breaking version (e.g. major versions) "),t("strong",[e._v("into the url")]),e._v(" so that you actually have a different package …")]),e._v(" "),t("blockquote",[t("p",[e._v("For Go modules, we gave this old advice a new name, the import compatibility rule:")])]),e._v(" "),t("blockquote",[t("blockquote",[t("p",[e._v("If an old package and a new package have the same import path,"),t("br"),e._v("\nthe new package must be backwards compatible with the old package.")])])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://research.swtch.com/impver@2x.png",alt:""}})])]),e._v(" "),t("li",[t("p",[e._v("Install the minimal version of a package that satisfies the requirements (rather than the maximal version) => this yields repeatability (principle 2)")])]),e._v(" "),t("li",[t("p",[e._v("In summary Go differs in that: all versions are explicit (no "),t("code",[e._v("<=")]),e._v(", "),t("code",[e._v(">=")]),e._v("). Since we can assume that all later versions of a module are backwards compatible (and any breaking change generates a new module with explicit "),t("code",[e._v("vX")]),e._v(" in name) we can simply cycle through a module and its dependencies and find the highest version that are listed and install that.")])])])]),e._v(" "),t("li",[e._v("Publishing a module is just pushing to github/gitlab or putting it somewhere on the web – see "),t("a",{attrs:{href:"https://blog.golang.org/publishing-go-modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://blog.golang.org/publishing-go-modules"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Tagging versions is done with git tag")]),e._v(" "),t("li",[e._v("“A module is a collection of related Go packages that are versioned together as a single unit.”")])]),e._v(" "),t("p",[e._v("Layout on disk in a module (see e.g. "),t("a",{attrs:{href:"https://blog.golang.org/publishing-go-modules",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://blog.golang.org/publishing-go-modules"),t("OutboundLink")],1),e._v("). Main file "),t("code",[e._v("go.mod")]),e._v(" and one extra for storing hashes for verification (it’s not a lock file)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$ cat go.mod\nmodule example.com/hello\n\ngo 1.12\n\nrequire rsc.io/quote/v3 v3.1.0\n\n$ cat go.sum\ngolang.org/x/text v0.0.0-20170915032832-14c0d48ead0c h1:qgOY6WgZOaTkIIMiVjBQcw93ERBE4m30iBm00nkL0i8=\ngolang.org/x/text v0.0.0-20170915032832-14c0d48ead0c/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\nrsc.io/quote/v3 v3.1.0 h1:9JKUTTIUgS6kzR9mK1YuGKv6Nl+DijDNIc0ghT58FaY=\nrsc.io/quote/v3 v3.1.0/go.mod h1:yEA65RcK8LyAZtP9Kv3t0HmxON59tX3rD+tICJqUlj0=\nrsc.io/sampler v1.3.0 h1:7uVkIFmeBqHfdjD+gZwtXXI+RODJ2Wc4O7MPEh/QiW4=\nrsc.io/sampler v1.3.0/go.mod h1:T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA=\n")])])]),t("h3",{attrs:{id:"asides"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#asides"}},[e._v("#")]),e._v(" Asides")]),e._v(" "),t("p",[e._v("#### Vendoring is an incomplete solution to package versioning problem")]),e._v(" "),t("blockquote",[t("p",[e._v("More fundamentally, vendoring is an incomplete solution to the package versioning problem. It only provides reproducible builds. It does nothing to help understand package versions and decide which version of a package to use. Package managers like glide and dep add the concept of versioning onto Go builds implicitly, without direct toolchain support, by setting up the vendor directory a certain way. As a result, the many tools in the Go ecosystem cannot be made properly aware of versions. It’s clear that Go needs direct toolchain support for package versions. "),t("a",{attrs:{href:"https://research.swtch.com/vgo-intro",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://research.swtch.com/vgo-intro"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_2020-05-16-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2020-05-16-rufuspollock"}},[e._v("#")]),e._v(" 2020-05-16 @rufuspollock")]),e._v(" "),t("p",[e._v("Ruthlessly retain compatibility after v1 - inspiration from Go for Frictionless")]),e._v(" "),t("blockquote",[t("p",[e._v("It is intended that programs written to the Go 1 specification will continue to compile and run correctly, unchanged, over the lifetime of that specification. Go programs that work today should continue to work even as future “point” releases of Go 1 arise (Go 1.1, Go 1.2, etc.).")]),e._v(" "),t("p",[e._v("— "),t("a",{attrs:{href:"https://golang.org/doc/go1compat",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://golang.org/doc/go1compat"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("And they go further – not just Go but also Go packages:")]),e._v(" "),t("blockquote",[t("p",[e._v("Packages intended for public use should try to maintain backwards compatibility as they evolve. The Go 1 compatibility guidelines are a good reference here: don’t remove exported names, encourage tagged composite literals, and so on. If different functionality is required, add a new name instead of changing an old one. If a complete break is required, create a new package with a new import path.")]),e._v(" "),t("p",[e._v("The Go FAQ has since Go 1.2 in November 2013")])]),e._v(" "),t("p",[e._v("+frictionless")]),e._v(" "),t("h2",{attrs:{id:"_2020-05-15-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2020-05-15-rufuspollock"}},[e._v("#")]),e._v(" 2020-05-15 @rufuspollock")]),e._v(" "),t("p",[t("code",[e._v("Project")]),e._v(" should be the primary object in a DataHub/Data Portal – not Dataset.")]),e._v(" "),t("p",[e._v("Why? Because actually this is more than a Dataset. For example, it includes issues or workflows. A project is a good name for this that is both generic and specific.")]),e._v(" "),t("p",[e._v("cf Git-hub e.g. Gitlab (and Github). Gitlab came later and did this right: it’s primary object is a Project which hasA Repository. Github still insits on calling them repositories (see primary menu item which is “Create a new repository”). This is weird, a github “repository” isn’t actually a github repository: it has issues, stats, workflows and even a discussion board now. Calling it a project is the accurate description and the repository label is a historical artifact when that was all it was. I sometimes create “repos” on Github just to have an issue tracker. Gitlab understands this and actually allows me to have projects without any associated repository.")]),e._v(" "),t("p",[e._v("TODO: take a screenshot to illustrate Gitlab and Github.")]),e._v(" "),t("p",[e._v("+flashes of insight. +datahub +data portal. +domain model.")]),e._v(" "),t("h2",{attrs:{id:"_2020-04-23-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2020-04-23-rufuspollock"}},[e._v("#")]),e._v(" 2020-04-23 @rufuspollock")]),e._v(" "),t("p",[e._v("4 Stores of a DataHub")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("p",[e._v("Naming is one of the most important things – and hardest!")])]),e._v(" "),t("ul",[t("li",[e._v("MetaStore [service]: API (and store) of the metadata for datasets")]),e._v(" "),t("li",[e._v("HubStore [service]: API for registry of datasets (+ potentially organizations and ownership relationships to datasets)")]),e._v(" "),t("li",[e._v("BlobStore [service]: API for blobs of data")]),e._v(" "),t("li",[e._v("StructuredStore [service]: API for structured data")])]),e._v(" "),t("p",[e._v("Origins:")]),e._v(" "),t("ul",[t("li",[e._v("Started using MetaStore in "),t("a",{attrs:{href:"http://DataHub.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("DataHub.io"),t("OutboundLink")],1),e._v(" back in 2016")]),e._v(" "),t("li",[e._v("Not used in CKAN v2")]),e._v(" "),t("li",[e._v("Conceptually CKAN originally was MetaStore and HubStore.")])]),e._v(" "),t("p",[e._v("In CKAN v2:")]),e._v(" "),t("ul",[t("li",[e._v("MetaStore and HubStore (no explicit name) => main Postgres DB")]),e._v(" "),t("li",[e._v("StructuredStore (called DataStore) => another separate Postgres DB")]),e._v(" "),t("li",[e._v("BlobStore (called FileStore) => local disk (or cloud with an extension)")])]),e._v(" "),t("p",[e._v("In CKAN v3: propose to separate these explicitly …")]),e._v(" "),t("h2",{attrs:{id:"data-portal-vs-datahub-vs-data-os-2020-04-23-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-portal-vs-datahub-vs-data-os-2020-04-23-rufuspollock"}},[e._v("#")]),e._v(" Data Portal vs DataHub vs Data OS 2020-04-23 @rufuspollock")]),e._v(" "),t("p",[e._v("Data Portal vs DataHub vs Data OS – naming and definitions.")]),e._v(" "),t("p",[e._v("Is a Data Portal a DataHub? Is a DataHub a DataOS? If not, what are the differences?")]),e._v(" "),t("p",[e._v("+todo")]),e._v(" "),t("h2",{attrs:{id:"data-concepts-from-atoms-to-organisms-2020-03-05-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data-concepts-from-atoms-to-organisms-2020-03-05-rufuspollock"}},[e._v("#")]),e._v(" Data Concepts - from Atoms to Organisms 2020-03-05 @rufuspollock")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Point -> Line -> Plane (0d -> 1d -> 2d -> 3d)\n\nAtom -> Molecule -> Cell -> Organism\n")])])]),t("Mermaid",{attrs:{id:"mermaid_64a5429a",graph:e.$dataBlock.mermaid_64a5429a}}),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("          Domain =>\nDimension\n    |\n    V\n")])])]),t("table",[t("thead",[t("tr",[t("th",[e._v("Dimension")]),e._v(" "),t("th",[e._v("…")]),e._v(" "),t("th",[e._v("Math")]),e._v(" "),t("th",[e._v("Spreadsheets")]),e._v(" "),t("th",[e._v("Databases")]),e._v(" "),t("th",[e._v("Tables etc")]),e._v(" "),t("th",[e._v("Frictionless")]),e._v(" "),t("th",[e._v("Pandas")]),e._v(" "),t("th",[e._v("R")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("0d")]),e._v(" "),t("td",[e._v("Datum")]),e._v(" "),t("td",[e._v("Value")]),e._v(" "),t("td",[e._v("Cell")]),e._v(" "),t("td",[e._v("Value")]),e._v(" "),t("td",[e._v("Scalar?")]),e._v(" "),t("td",[e._v("N/A")]),e._v(" "),t("td",[e._v("Value")]),e._v(" "),t("td",[e._v("?")])]),e._v(" "),t("tr",[t("td",[e._v("1d")]),e._v(" "),t("td",[e._v("…")]),e._v(" "),t("td",[e._v("Array / Vector")]),e._v(" "),t("td",[e._v("Row")]),e._v(" "),t("td",[e._v("Row")]),e._v(" "),t("td",[e._v("Row")]),e._v(" "),t("td",[e._v("N/A")]),e._v(" "),t("td"),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("1d")]),e._v(" "),t("td",[e._v("…")]),e._v(" "),t("td",[e._v("N/A")]),e._v(" "),t("td",[e._v("Column")]),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("2d")]),e._v(" "),t("td",[e._v("Grid?")]),e._v(" "),t("td",[e._v("Matrix")]),e._v(" "),t("td",[e._v("Sheet")]),e._v(" "),t("td",[e._v("Table")]),e._v(" "),t("td",[e._v("Table")]),e._v(" "),t("td",[e._v("TableSchema")]),e._v(" "),t("td"),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("3d")]),e._v(" "),t("td",[e._v("Cube")]),e._v(" "),t("td",[e._v("3d Matrix")]),e._v(" "),t("td",[e._v("Spreadsheet")]),e._v(" "),t("td",[e._v("Database (or Cube)")]),e._v(" "),t("td",[e._v("N/A")]),e._v(" "),t("td",[e._v("?")]),e._v(" "),t("td",[e._v("?")]),e._v(" "),t("td",[e._v("?")])]),e._v(" "),t("tr",[t("td",[e._v("4d+")]),e._v(" "),t("td",[e._v("HyperCube")]),e._v(" "),t("td",[e._v("n-d Matrix")]),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td"),e._v(" "),t("td")])])]),e._v(" "),t("p",[e._v("What’s crucial about a table is that it is not just an array of arrays or a rowset but a rowset plus a fieldset.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Field => FieldSet\nRow => RowSet\n")])])]),t("p",[e._v("A Table is a FieldSet x RowSet (+ other information)")]),e._v(" "),t("p",[e._v("There is the question of whether there is some kind of connection or commonality at each dimension up … e.g. you could have an array of arrays where each array has different fields …")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"first"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"joe"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"height"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"last"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"gautama"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("50")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("But a table has common fields.")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"first"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"joe"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"height"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"first"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"siddarta"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"height"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("50")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("(NB: one could always force a group of rows with disparate fields into being a table by creating the union of all the fields but that’s hacky)")]),e._v(" "),t("p",[e._v("So a table is a RowSet plus a FieldSet where each row conforms to that FieldSet.")]),e._v(" "),t("p",[e._v("Similarly, we can aggregate tables. By default here the tables do "),t("em",[e._v("not")]),e._v(" share any commonality – sheets in a spreadsheet need not share any common aspect, nor do tables in a database.  If they do, then we have a cube.")]),e._v(" "),t("p",[e._v("NEXT: moving to flows / processes.")]),e._v(" "),t("h2",{attrs:{id:"is-there-room-need-for-a-simple-dataflow-library-2020-02-23-rufuspollock"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#is-there-room-need-for-a-simple-dataflow-library-2020-02-23-rufuspollock"}},[e._v("#")]),e._v(" Is there room / need for a simple dataflow library?  2020-02-23 @rufuspollock")]),e._v(" "),t("p",[e._v("Is there room / need for a simple dataflow library …?")]),e._v(" "),t("p",[e._v("What kind of library?")]),e._v(" "),t("ul",[t("li",[e._v("So Apache Beam /Google DataFlow is great … and it is pretty complex and designed for use out of the box in parallel etc")]),e._v(" "),t("li",[e._v("Apache Nifi: got a nice UI, Java and heavy duty.")]),e._v(" "),t("li",[e._v("My own experience (even just now with key metrics) is i want something that will load and pipe data between processors")])]),e._v(" "),t("p",[e._v("Ideas")]),e._v(" "),t("ul",[t("li",[e._v("create-react-app for data flows: quickly scaffold data flows")]),e._v(" "),t("li",[e._v("What is the default runner")])])],1)}),[],!1,null,null,null);"function"==typeof s&&s(r);a.default=r.exports}}]);