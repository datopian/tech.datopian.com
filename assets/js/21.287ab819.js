(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{392:function(e,t,o){"use strict";o.r(t);var a=o(18),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"ckan-getting-started-for-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ckan-getting-started-for-development"}},[e._v("#")]),e._v(" CKAN: Getting Started for Development")]),e._v(" "),o("h2",{attrs:{id:"prerequisites"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),o("p",[e._v("CKAN has a rich tech stack so we have opted to standardize our instructions with Docker Compose, which will help you spin up every service in a few commands.")]),e._v(" "),o("p",[e._v("If you already have Docker-compose, you are ready to go!")]),e._v(" "),o("p",[e._v("If not, please, follow instructions on "),o("a",{attrs:{href:"https://docs.docker.com/compose/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("how to install docker-compose"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("On Ubuntu you can run:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("sudo apt-get update\nsudo apt-get install docker-compose\n")])])]),o("h2",{attrs:{id:"cloning-the-repo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cloning-the-repo"}},[e._v("#")]),e._v(" Cloning the repo")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("git clone https://github.com/okfn/docker-ckan\n# or git clone git@github.com:okfn/docker-ckan.git\ncd docker-ckan\n")])])]),o("h2",{attrs:{id:"booting-ckan"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#booting-ckan"}},[e._v("#")]),e._v(" Booting CKAN")]),e._v(" "),o("p",[e._v("Create a local environment file:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("cp .env.example .env\n")])])]),o("p",[e._v("Build and Run the instances:")]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[o("code",[e._v("docker-compose")]),e._v(" must be run with "),o("code",[e._v("sudo")]),e._v(". If you want to change this, you can follow the steps below. NOTE: The "),o("code",[e._v("docker")]),e._v(" group grants privileges equivalent to the "),o("code",[e._v("root")]),e._v(" user.")]),e._v(" "),o("p",[e._v("Create the "),o("code",[e._v("docker")]),e._v(" group: "),o("code",[e._v("sudo groupadd docker")])]),e._v(" "),o("p",[e._v("Add your user to the "),o("code",[e._v("docker")]),e._v(" group: "),o("code",[e._v("sudo usermod -aG docker $USER")])]),e._v(" "),o("p",[e._v("Change the storage directory ownership from "),o("code",[e._v("root")]),e._v(" to "),o("code",[e._v("ckan")]),e._v(" by adding the commads below to the "),o("code",[e._v("ckan/Dockerfile.dev")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("RUN mkdir -p /var/lib/ckan/storage/uploads\nRUN chown -R ckan:ckan /var/lib/ckan/storage\n")])])]),o("p",[e._v("At this point, you can log out and log back in for these changes to apply. You can also use the command "),o("code",[e._v("newgrp docker")]),e._v(" to temporarily enable the new group for the current terminal session.")])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("docker-compose -f docker-compose.dev.yml up --build\n")])])]),o("p",[e._v("When you see this log message:")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://i.imgur.com/WUIiNRt.png",alt:""}})]),e._v(" "),o("p",[e._v("You can navigate to "),o("code",[e._v("http://localhost:5000")])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://i.imgur.com/T5LWo8A.png",alt:"CKAN Home Page"}})]),e._v(" "),o("p",[e._v("and log in with the credentials that docker-compose setup created for you [user: "),o("code",[e._v("ckan_admin")]),e._v(" password:"),o("code",[e._v("test1234")]),e._v("].")]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("To learn key concepts about CKAN, including what it is and how it works, you can read the "),o("a",{attrs:{href:"https://docs.ckan.org/en/2.8/user-guide.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CKAN User Guide"),o("OutboundLink")],1),e._v(".")])]),e._v(" "),o("h2",{attrs:{id:"next-steps"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[e._v("#")]),e._v(" Next Steps")]),e._v(" "),o("p",[o("a",{attrs:{href:"/ckan/play-around"}},[e._v("Play around with CKAN portal")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"troubleshooting"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),o("p",[e._v("Login / Logout button breaks the experience:")]),e._v(" "),o("ul",[o("li",[e._v("Change the URL from "),o("code",[e._v("http://ckan:5000")]),e._v(" to "),o("code",[e._v("http://localhost:5000")]),e._v(". A complete fix is described in the "),o("a",{attrs:{href:"/ckan/play-around"}},[e._v("Play around with CKAN portal")]),e._v(". (Your next step. ðŸ˜‰)")])])])}),[],!1,null,null,null);t.default=s.exports}}]);