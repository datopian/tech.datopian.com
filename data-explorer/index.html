<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Explorer | Datopian Tech</title>
    <meta name="generator" content="VuePress 1.7.0">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-XESJBM03F5"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XESJBM03F5');</script>
    <meta name="description" content="An overview of our technology">
    
    <link rel="preload" href="/assets/css/0.styles.d75de8d6.css" as="style"><link rel="preload" href="/assets/js/app.0cfb9a54.js" as="script"><link rel="preload" href="/assets/js/3.d799bd9e.js" as="script"><link rel="preload" href="/assets/js/4.c3b46e79.js" as="script"><link rel="prefetch" href="/assets/js/10.638da2b7.js"><link rel="prefetch" href="/assets/js/11.17e0f31f.js"><link rel="prefetch" href="/assets/js/12.ee1f77a6.js"><link rel="prefetch" href="/assets/js/13.6eb9e3f2.js"><link rel="prefetch" href="/assets/js/14.321278ec.js"><link rel="prefetch" href="/assets/js/15.391bfc07.js"><link rel="prefetch" href="/assets/js/16.0706ce2b.js"><link rel="prefetch" href="/assets/js/17.b381cf63.js"><link rel="prefetch" href="/assets/js/18.d7fb8727.js"><link rel="prefetch" href="/assets/js/19.340cfae4.js"><link rel="prefetch" href="/assets/js/20.7083d06c.js"><link rel="prefetch" href="/assets/js/21.40d855dc.js"><link rel="prefetch" href="/assets/js/22.d52ae8bc.js"><link rel="prefetch" href="/assets/js/23.0f341fa2.js"><link rel="prefetch" href="/assets/js/24.cfd3900f.js"><link rel="prefetch" href="/assets/js/25.f95615ff.js"><link rel="prefetch" href="/assets/js/26.43bea64a.js"><link rel="prefetch" href="/assets/js/27.31eb3db3.js"><link rel="prefetch" href="/assets/js/28.38a018d5.js"><link rel="prefetch" href="/assets/js/29.3fa25f7a.js"><link rel="prefetch" href="/assets/js/30.5b310570.js"><link rel="prefetch" href="/assets/js/31.2f80b7f1.js"><link rel="prefetch" href="/assets/js/32.ea642099.js"><link rel="prefetch" href="/assets/js/33.946f15c2.js"><link rel="prefetch" href="/assets/js/34.d8bbaa89.js"><link rel="prefetch" href="/assets/js/35.fc278665.js"><link rel="prefetch" href="/assets/js/36.3e6136c3.js"><link rel="prefetch" href="/assets/js/37.40891321.js"><link rel="prefetch" href="/assets/js/38.6acf3457.js"><link rel="prefetch" href="/assets/js/39.5c089959.js"><link rel="prefetch" href="/assets/js/40.428fc145.js"><link rel="prefetch" href="/assets/js/41.ed41f981.js"><link rel="prefetch" href="/assets/js/42.69642908.js"><link rel="prefetch" href="/assets/js/43.735df8f3.js"><link rel="prefetch" href="/assets/js/44.d7f00d32.js"><link rel="prefetch" href="/assets/js/45.01aa22e7.js"><link rel="prefetch" href="/assets/js/46.95143001.js"><link rel="prefetch" href="/assets/js/47.af314171.js"><link rel="prefetch" href="/assets/js/48.79db91df.js"><link rel="prefetch" href="/assets/js/49.2bde88a9.js"><link rel="prefetch" href="/assets/js/5.9745c567.js"><link rel="prefetch" href="/assets/js/50.9129941e.js"><link rel="prefetch" href="/assets/js/51.b269d2ad.js"><link rel="prefetch" href="/assets/js/52.635d5ff9.js"><link rel="prefetch" href="/assets/js/53.c7f27608.js"><link rel="prefetch" href="/assets/js/54.fa00a9cd.js"><link rel="prefetch" href="/assets/js/55.b0f25fa3.js"><link rel="prefetch" href="/assets/js/56.b267a606.js"><link rel="prefetch" href="/assets/js/57.d22c2b48.js"><link rel="prefetch" href="/assets/js/58.951d4e34.js"><link rel="prefetch" href="/assets/js/59.af3e6d1a.js"><link rel="prefetch" href="/assets/js/6.884850f8.js"><link rel="prefetch" href="/assets/js/60.1fcd2664.js"><link rel="prefetch" href="/assets/js/61.d50d013c.js"><link rel="prefetch" href="/assets/js/62.c39ab5cf.js"><link rel="prefetch" href="/assets/js/63.b15fc128.js"><link rel="prefetch" href="/assets/js/64.3d09cd94.js"><link rel="prefetch" href="/assets/js/65.75da2c7c.js"><link rel="prefetch" href="/assets/js/66.ca9f6de5.js"><link rel="prefetch" href="/assets/js/67.64429417.js"><link rel="prefetch" href="/assets/js/68.73fc875e.js"><link rel="prefetch" href="/assets/js/69.0952d878.js"><link rel="prefetch" href="/assets/js/7.01499fc1.js"><link rel="prefetch" href="/assets/js/70.2cbd4cd8.js"><link rel="prefetch" href="/assets/js/71.5783e588.js"><link rel="prefetch" href="/assets/js/72.6ed310c5.js"><link rel="prefetch" href="/assets/js/73.e9de330f.js"><link rel="prefetch" href="/assets/js/74.ad9f0422.js"><link rel="prefetch" href="/assets/js/75.41486c77.js"><link rel="prefetch" href="/assets/js/76.2b23eb01.js"><link rel="prefetch" href="/assets/js/77.5d087cf7.js"><link rel="prefetch" href="/assets/js/78.67f553cc.js"><link rel="prefetch" href="/assets/js/79.c8909952.js"><link rel="prefetch" href="/assets/js/8.822440c2.js"><link rel="prefetch" href="/assets/js/80.cc1b7550.js"><link rel="prefetch" href="/assets/js/81.43fc9bea.js"><link rel="prefetch" href="/assets/js/82.b9142eb9.js"><link rel="prefetch" href="/assets/js/83.18e1abd6.js"><link rel="prefetch" href="/assets/js/84.90de6dfd.js"><link rel="prefetch" href="/assets/js/9.63d821ea.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.62a8c583.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d75de8d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Datopian Tech</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Data Explorer</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/data-explorer/#features-highlights" class="sidebar-link">Features / Highlights</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/data-explorer/#components" class="sidebar-link">Components</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data-explorer/#datapackage-views" class="sidebar-link">Datapackage Views</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#datastore-query-builder" class="sidebar-link">Datastore Query Builder</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#map-builder" class="sidebar-link">Map Builder</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#chart-builder" class="sidebar-link">Chart Builder</a></li></ul></li><li><a href="/data-explorer/#quick-start-sandbox" class="sidebar-link">Quick-start (Sandbox)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/data-explorer/#configuration" class="sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data-explorer/#fixtures" class="sidebar-link">Fixtures</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#serialized-state" class="sidebar-link">Serialized state</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#share-links" class="sidebar-link">Share links</a></li></ul></li><li><a href="/data-explorer/#translations" class="sidebar-link">Translations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data-explorer/#add-a-translation-to-data-explorer" class="sidebar-link">Add a Translation To Data Explorer</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#add-a-translation-to-a-component" class="sidebar-link">Add a translation To a Component</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#testing-a-newly-added-language" class="sidebar-link">Testing a Newly Added Language</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#language-detection" class="sidebar-link">Language detection</a></li></ul></li><li><a href="/data-explorer/#embedding-in-ckan-ng-theme" class="sidebar-link">Embedding in CKAN NG Theme</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data-explorer/#copy-bundle-files-to-theme-s-public-directory" class="sidebar-link">Copy bundle files to theme's public directory</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#require-data-explorer-resources-in-ng-theme-template" class="sidebar-link">Require Data Explorer resources in NG theme template</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#configure-datapackage" class="sidebar-link">Configure datapackage</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#add-data-explorer-tags-to-the-page-markup" class="sidebar-link">Add data-explorer tags to the page markup</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#add-data-explorer-scripts-to-your-template" class="sidebar-link">Add data explorer scripts to your template</a></li></ul></li><li><a href="/data-explorer/#new-builds" class="sidebar-link">New builds</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data-explorer/#component-changes" class="sidebar-link">Component changes</a></li><li class="sidebar-sub-header"><a href="/data-explorer/#testing-not-yet-released-component-changes" class="sidebar-link">Testing not yet released component changes</a></li></ul></li><li><a href="/data-explorer/#appendix-design" class="sidebar-link">Appendix: Design</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-explorer"><a href="#data-explorer" class="header-anchor">#</a> Data Explorer</h1> <p>The Datopian Data Explorer is a React single page application and framework for creating and displaying rich data explorers (think Tableau-lite). Use stand-alone or with CKAN. For CKAN it is a drop-in replacement for ReclineJS in CKAN Classic.</p> <p><img src="/assets/img/data-explorer.fef5281a.png" alt="Data Explorer"></p> <blockquote><p><a href="http://montreal.ckan.io/ville-de-montreal/geobase-double#resource-G%C3%83%C2%A9obase%20double" target="_blank" rel="noopener noreferrer">Data Explorer for the City of Montreal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="features-highlights"><a href="#features-highlights" class="header-anchor">#</a> Features / Highlights</h2> <p>“Data Explorer” is an embedable React/Redux application that allows users to:</p> <ul><li>Explore tabular, map, PDF, and other types of data</li> <li>Create map views of tabular data using the <a href="#map-builder">Map Builder</a></li> <li>Create charts and graphs of tabular data using <a href="#chart-builder">Chart Builder</a></li> <li>Easily build SQL queries for Data Store API using graphical interface of <a href="#datastore-query-builder">Datastore Query Builder</a></li></ul> <h2 id="components"><a href="#components" class="header-anchor">#</a> Components</h2> <p>The Data Explorer application acts as a coordinating layer and state management solution – via <a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer">Redux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> – for several libraries, also maintained by Datopian.</p> <h3 id="datapackage-views"><a href="#datapackage-views" class="header-anchor">#</a> <a href="https://github.com/datopian/datapackage-views-js" target="_blank" rel="noopener noreferrer">Datapackage Views<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><img src="/assets/img/datapackage-views.c59283e7.png" alt="Datapackage Views"></p> <p>Datapackage View is the rendering engine for the main window of the Data Explorer.</p> <p>The above image displays a table shown at the <code>Table</code> tab, but note that Datapackage-views renders <em>all</em> data visualizations: Tables, Charts, Maps, and others.</p> <h3 id="datastore-query-builder"><a href="#datastore-query-builder" class="header-anchor">#</a> <a href="https://github.com/datopian/datastore-query-builder" target="_blank" rel="noopener noreferrer">Datastore Query Builder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <img alt="Datastore Query Builder" src="/assets/img/query-builder.edc56e76.png" width="250px"> <p>The Datastore Query Builder interfaces with the Datastore API to allow users to search data resources using an SQL like interface. See the docs for this module here - <a href="/data-explorer/datastore-query-builder/">Datastore Query Builder docs</a>.</p> <h3 id="map-builder"><a href="#map-builder" class="header-anchor">#</a> <a href="https://github.com/datopian/map-builder" target="_blank" rel="noopener noreferrer">Map Builder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <img alt="Map Builder" src="/assets/img/map-builder.2d897cf1.png" width="250px"> <p>Map Builder allows users to build maps based on geo-data contained in tabular resources.</p> <p>Supported geo formats:</p> <ul><li>lon / lat (separate columns)</li></ul> <h3 id="chart-builder"><a href="#chart-builder" class="header-anchor">#</a> <a href="https://github.com/datopian/chart-builder" target="_blank" rel="noopener noreferrer">Chart Builder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <img alt="Chart Builder" src="/assets/img/chart-builder.24dd30b3.png" width="250px"> <p>Chart Builder allows users to create charts and graphs from tabular data.</p> <h2 id="quick-start-sandbox"><a href="#quick-start-sandbox" class="header-anchor">#</a> Quick-start (Sandbox)</h2> <ul><li>Clone the data explorer</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> clone git@gitlab.com:datopian/data-explorer.git
</code></pre></div><ul><li>Use yarn to install the project dependencies</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> data-explorer
$ <span class="token function">yarn</span>
</code></pre></div><ul><li>To see the Data Explorer running in a sandbox environment run <a href="https://github.com/react-cosmos/react-cosmos" target="_blank" rel="noopener noreferrer">Cosmos<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">yarn</span> cosmos
</code></pre></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p><a href="#add-data-explorer-tags-to-the-page-markup"><code>data-datapackage</code> attribute</a> may influence how the element will be displayed. It can be created from a <a href="https://frictionlessdata.io/specs/data-package/" target="_blank" rel="noopener noreferrer">datapackage descriptor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="fixtures"><a href="#fixtures" class="header-anchor">#</a> Fixtures</h3> <p>Until we have better documentation on Data Explorer settings, use the <a href="https://gitlab.com/datopian/data-explorer/blob/master/__fixtures__/with_widgets/geojson_simple.js" target="_blank" rel="noopener noreferrer">Cosmos fixtures<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as an example of how to instantiate / configure the Data Explorer.</p> <h3 id="serialized-state"><a href="#serialized-state" class="header-anchor">#</a> Serialized state</h3> <p><code>store-&gt;serializedState</code> is a representation of the application state <em>without fetched data</em><br>
A data-explorer can be “hydrated” using the serialized state, it will refetch the data, and will render in the same state it was exported in</p> <h3 id="share-links"><a href="#share-links" class="header-anchor">#</a> Share links</h3> <p>Share links can be added in <code>datapakage.resources[0].api</code> attribute.</p> <p>There is common limit of up 2000 characters on URL strings. Our share links contain the entire application store tree, which is often larger than 2000 characters, in which the application state cannot be shared via URL. Thems the breaks.</p> <h2 id="translations"><a href="#translations" class="header-anchor">#</a> Translations</h2> <h3 id="add-a-translation-to-data-explorer"><a href="#add-a-translation-to-data-explorer" class="header-anchor">#</a> Add a Translation To Data Explorer</h3> <p>To add a translation to a new language to the data explorer you need to:</p> <ol><li>clone the repository you need to update</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone git@gitlab.com:datopian/data-explorer.git
</code></pre></div><ol start="2"><li>go to <code>src/i18n/locales/</code> folder</li> <li>add a new sub-folder with locale name and the new language json file (e.g. <code>src/i18n/locales/ru/translation.json</code>)</li> <li>add the new file to resources settings in <code>i18n.js</code>:<br> <code>src/i18n/i18n.js</code>:</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'./locales/en/translation.json'</span>
<span class="token keyword">import</span> da <span class="token keyword">from</span> <span class="token string">'./locales/da/translation.json'</span>
<span class="token keyword">import</span> ru <span class="token keyword">from</span> <span class="token string">'./locales/ru/translation.json'</span>
    <span class="token operator">...</span>
      ru<span class="token operator">:</span> <span class="token punctuation">{</span>
        translation<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./locales/ru/translation.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token operator">...</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
</code></pre></div><ol start="5"><li>create a merge request with the changes</li></ol> <h3 id="add-a-translation-to-a-component"><a href="#add-a-translation-to-a-component" class="header-anchor">#</a> Add a translation To a Component</h3> <p>Some strings may come from a component, to add translation for them will require some extra steps, e.g. datapackage-views-js:</p> <ol><li>clone the repository</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>https://github.com/datopian/datapackage-views-js.git
</code></pre></div><ol start="2"><li>go to <code>src/i18n/locales/</code> folder</li> <li>add a new sub-folder with locale name and the new language json file (e.g. <code>src/i18n/locales/ru/translation.json</code>)</li> <li>add the new file to resources settings in <code>i18n.js</code>:<br> <code>src/i18n/i18n.js</code>:</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token keyword">import</span> ru <span class="token keyword">from</span> <span class="token string">'./locales/ru/translation.json'</span>
    <span class="token operator">...</span>
    resources<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      ru<span class="token operator">:</span> <span class="token punctuation">{</span>translation<span class="token operator">:</span> ru<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
</code></pre></div><ol start="5"><li>create a pull request for datapackage-views-js</li> <li>get the new datapackage-views-js version after merging (e.g. 1.3.0)</li> <li>clone data-explorer</li> <li>upgrade the data-explorer’s datapackage-views-js dependency with the new version:<br>
a. update package.json<br>
b. run <code>yarn install</code></li> <li>add the component’s translations path to Data Explorer:</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> en <span class="token keyword">from</span> <span class="token string">'./locales/en/translation.json'</span>
<span class="token keyword">import</span> da <span class="token keyword">from</span> <span class="token string">'./locales/da/translation.json'</span>
<span class="token keyword">import</span> ru <span class="token keyword">from</span> <span class="token string">'./locales/ru/translation.json'</span>
    <span class="token operator">...</span>
      ru<span class="token operator">:</span> <span class="token punctuation">{</span>
        translation<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./locales/ru/translation.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'datapackage-views-js/src/i18n/locales/ru/translation.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
</code></pre></div><ol start="10"><li>create a merge request for data-explorer</li></ol> <h3 id="testing-a-newly-added-language"><a href="#testing-a-newly-added-language" class="header-anchor">#</a> Testing a Newly Added Language</h3> <p>To see your language changes in Data Explorer you can run <code>yarn start</code> and change the language cookie of the page (<code>defaultLocale</code>):</p> <p><img src="/assets/img/i18n-cookie.f5f60ffe.png" alt="i18n Cookie"></p> <h3 id="language-detection"><a href="#language-detection" class="header-anchor">#</a> Language detection</h3> <p>Language detection rules are determined by <code>detection</code> option in <code>src/i18n/i18n.js</code> file. Please edit with care, as other projects may already depend on them.</p> <h2 id="embedding-in-ckan-ng-theme"><a href="#embedding-in-ckan-ng-theme" class="header-anchor">#</a> Embedding in CKAN NG Theme</h2> <h3 id="copy-bundle-files-to-theme-s-public-directory"><a href="#copy-bundle-files-to-theme-s-public-directory" class="header-anchor">#</a> Copy bundle files to theme’s <code>public</code> directory</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">cp</span> data-explorer/build/static/js/*.js frontend-v2/themes/your_theme/public/js
$ <span class="token function">cp</span> data-explorer/build/static/js/*.map frontend-v2/themes/your_theme/public/js
$ <span class="token function">cp</span> data-explorer/build/static/css/* frontend-v2/themes/your_theme/public/css
</code></pre></div><h4 id="note-on-app-bundles"><a href="#note-on-app-bundles" class="header-anchor">#</a> Note on app bundles</h4> <p>The bundled resources have a hash in the filename, for example <code>2.a3e71132.chunk.js</code></p> <p>During development it may be preferable to remove the hash from the file name to avoid having to update the script tag during iteration, for example</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">mv</span> <span class="token number">2</span>.a3e71132.chunk.js <span class="token number">2</span>.chunk.js
</code></pre></div><p>A couple caveats:</p> <ul><li>The <code>.map</code> file names should remain the same so that they are loaded properly</li> <li>Browser cache may need to be invalidated manually to ensure that the latest script is loaded</li></ul> <h3 id="require-data-explorer-resources-in-ng-theme-template"><a href="#require-data-explorer-resources-in-ng-theme-template" class="header-anchor">#</a> Require Data Explorer resources in NG theme template</h3> <p>In <code>/themes/your-theme/views/your-template-wth-explplorer.html</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- Everything before the content block goes here --&gt;</span>
{% block content %}

<span class="token comment">&lt;!-- Data Explorer CSS --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/css/main.chunk.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/css/2.chunk.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- End Data Explorer CSS --&gt;</span>
</code></pre></div><h3 id="configure-datapackage"><a href="#configure-datapackage" class="header-anchor">#</a> Configure datapackage</h3> <div class="language-htmlmixed= extra-class"><pre class="language-text"><code>&lt;!-- where datapackage is --&gt;
&lt;srcipt&gt;
  const datapackage = {
    resources: [{resource}], // single resource for this view
    views: [...], // can be 3 views aka widgets
    controls: { 
      showChartBuilder: true,
      showMapBuilder: true 
    }
  }
&lt;/srcipt&gt;
</code></pre></div><h3 id="add-data-explorer-tags-to-the-page-markup"><a href="#add-data-explorer-tags-to-the-page-markup" class="header-anchor">#</a> Add data-explorer tags to the page markup</h3> <p>Each Data Explorer instance needs a corresponding <code>&lt;div&gt;</code> in the DOM. For example:</p> <div class="language-html extra-class"><pre class="language-html"><code>{% for resource in dataset.resources %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data-explorer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data-explorer-{{ loop.index - 1 }}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-datapackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>{{ dataset.dataExplorers[loop.index - 1] | safe}}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{% endfor %}
</code></pre></div><p>Note that each container div needs the following attributes:</p> <ul><li><code>class=&quot;data-explorer&quot;</code> (All explorer divs should have this class)</li> <li><code>id=&quot;data-explorer-0&quot;</code> (1, 2, etc…)</li> <li><code>data-datapackage=</code>{JSON CONFIG}` (A valid JSON configuration)</li></ul> <h3 id="add-data-explorer-scripts-to-your-template"><a href="#add-data-explorer-scripts-to-your-template" class="header-anchor">#</a> Add data explorer scripts to your template</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/js/runtime~main.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/js/2.chunk.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/js/main.chunk.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><em>NOTE</em> that the scripts should be loaded <em>after the container divs are in the DOM, typically by placing the <code>&lt;script&gt;</code> tags at the bottom of the footer</em></p> <p>See <a href="https://gitlab.com/datopian/clients/ckan-montreal/blob/master/views/showcase.html" target="_blank" rel="noopener noreferrer">a real-world example here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="new-builds"><a href="#new-builds" class="header-anchor">#</a> New builds</h2> <p>In order to build files for production, run <code>npm run build</code> or <code>yarn build</code>.</p> <p>You need to have <strong>node version &gt;= 12</strong> in order to build files. Otherwise a ‘heap out of memory error’ gets thrown.</p> <h3 id="component-changes"><a href="#component-changes" class="header-anchor">#</a> Component changes</h3> <p>If the changes involve component updates that live in separate repositories make sure to upgrade them too before building:</p> <ol><li>Prepare the component with dist version (eg run yarn build:package in the component repo, see <a href="https://tech.datopian.com/data-explorer/datastore-query-builder/#release" target="_blank" rel="noopener noreferrer">https://tech.datopian.com/data-explorer/datastore-query-builder/#release<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for an example)</li> <li>run <code>yarn add &lt;package&gt;</code> to get latest changes, e.g. <code>yarn add @datopian/datastore-query-builder</code> (do not use <code>yarn upgrade</code>, see here on why <a href="https://github.com/datopian/data-explorer/issues/28#issuecomment-700792966" target="_blank" rel="noopener noreferrer">https://github.com/datopian/data-explorer/issues/28#issuecomment-700792966<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li> <li>you can verify changes in <code>yarn.lock</code> - there should be the latest component commit id</li> <li><code>yarn build</code> in data-explorer</li></ol> <h3 id="testing-not-yet-released-component-changes"><a href="#testing-not-yet-released-component-changes" class="header-anchor">#</a> Testing not yet released component changes</h3> <p>If there are some changes to be tested that are not ready to be released in a component the best option is to use<br>
cosmos directly in the component repository, but if that is not enough you can add the dependency from a branch<br>
temporarily:</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add https://github.com/datopian/datastore-query-builder.git#&lt;branch name&gt;
</code></pre></div><h2 id="appendix-design"><a href="#appendix-design" class="header-anchor">#</a> Appendix: Design</h2> <p>See <a href="/data-explorer/design/">Data Explorer Design page »</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/datopian/tech.datopian.com/edit/master/data-explorer/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Modified:</span> <span class="time">5/20/2021, 9:51:39 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0cfb9a54.js" defer></script><script src="/assets/js/3.d799bd9e.js" defer></script><script src="/assets/js/4.c3b46e79.js" defer></script>
  </body>
</html>
