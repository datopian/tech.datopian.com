<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Flows + Factory - Research | Datopian Tech</title>
    <meta name="generator" content="VuePress 1.7.0">
    
    <meta name="description" content="An overview of our technology">
    
    <link rel="preload" href="/assets/css/0.styles.d75de8d6.css" as="style"><link rel="preload" href="/assets/js/app.1eb9e0ef.js" as="script"><link rel="preload" href="/assets/js/3.fa4bc789.js" as="script"><link rel="preload" href="/assets/js/58.951d4e34.js" as="script"><link rel="prefetch" href="/assets/js/10.638da2b7.js"><link rel="prefetch" href="/assets/js/11.17e0f31f.js"><link rel="prefetch" href="/assets/js/12.903532db.js"><link rel="prefetch" href="/assets/js/13.6eb9e3f2.js"><link rel="prefetch" href="/assets/js/14.321278ec.js"><link rel="prefetch" href="/assets/js/15.b6fc4d5c.js"><link rel="prefetch" href="/assets/js/16.b3caaad1.js"><link rel="prefetch" href="/assets/js/17.b381cf63.js"><link rel="prefetch" href="/assets/js/18.3ebc898b.js"><link rel="prefetch" href="/assets/js/19.69d5ac20.js"><link rel="prefetch" href="/assets/js/20.7083d06c.js"><link rel="prefetch" href="/assets/js/21.49fa9fe8.js"><link rel="prefetch" href="/assets/js/22.154f4b66.js"><link rel="prefetch" href="/assets/js/23.4dc144f6.js"><link rel="prefetch" href="/assets/js/24.cc815849.js"><link rel="prefetch" href="/assets/js/25.ce5ada67.js"><link rel="prefetch" href="/assets/js/26.7e80a33f.js"><link rel="prefetch" href="/assets/js/27.1f061470.js"><link rel="prefetch" href="/assets/js/28.e3d21bf6.js"><link rel="prefetch" href="/assets/js/29.e9308e5a.js"><link rel="prefetch" href="/assets/js/30.e8f78de6.js"><link rel="prefetch" href="/assets/js/31.c5df799c.js"><link rel="prefetch" href="/assets/js/32.5f629eb0.js"><link rel="prefetch" href="/assets/js/33.ec83f018.js"><link rel="prefetch" href="/assets/js/34.d32a8ecf.js"><link rel="prefetch" href="/assets/js/35.429d828a.js"><link rel="prefetch" href="/assets/js/36.738af169.js"><link rel="prefetch" href="/assets/js/37.f10f1292.js"><link rel="prefetch" href="/assets/js/38.ab6a3f07.js"><link rel="prefetch" href="/assets/js/39.21f0a5a9.js"><link rel="prefetch" href="/assets/js/4.87a98c1d.js"><link rel="prefetch" href="/assets/js/40.dba88d93.js"><link rel="prefetch" href="/assets/js/41.5659ab21.js"><link rel="prefetch" href="/assets/js/42.24077f70.js"><link rel="prefetch" href="/assets/js/43.735df8f3.js"><link rel="prefetch" href="/assets/js/44.d7f00d32.js"><link rel="prefetch" href="/assets/js/45.01aa22e7.js"><link rel="prefetch" href="/assets/js/46.95143001.js"><link rel="prefetch" href="/assets/js/47.af314171.js"><link rel="prefetch" href="/assets/js/48.79db91df.js"><link rel="prefetch" href="/assets/js/49.2bde88a9.js"><link rel="prefetch" href="/assets/js/5.9745c567.js"><link rel="prefetch" href="/assets/js/50.9129941e.js"><link rel="prefetch" href="/assets/js/51.b269d2ad.js"><link rel="prefetch" href="/assets/js/52.851ebdfd.js"><link rel="prefetch" href="/assets/js/53.c7f27608.js"><link rel="prefetch" href="/assets/js/54.fa00a9cd.js"><link rel="prefetch" href="/assets/js/55.b0f25fa3.js"><link rel="prefetch" href="/assets/js/56.b267a606.js"><link rel="prefetch" href="/assets/js/57.d22c2b48.js"><link rel="prefetch" href="/assets/js/59.af3e6d1a.js"><link rel="prefetch" href="/assets/js/6.884850f8.js"><link rel="prefetch" href="/assets/js/60.1fcd2664.js"><link rel="prefetch" href="/assets/js/61.8eabe431.js"><link rel="prefetch" href="/assets/js/62.ae37d327.js"><link rel="prefetch" href="/assets/js/63.4909605b.js"><link rel="prefetch" href="/assets/js/64.54feb24c.js"><link rel="prefetch" href="/assets/js/65.78e5aadb.js"><link rel="prefetch" href="/assets/js/66.2744a185.js"><link rel="prefetch" href="/assets/js/67.0d982f82.js"><link rel="prefetch" href="/assets/js/68.26fc110b.js"><link rel="prefetch" href="/assets/js/69.80229dbf.js"><link rel="prefetch" href="/assets/js/7.7e8bc420.js"><link rel="prefetch" href="/assets/js/70.6dbe86bf.js"><link rel="prefetch" href="/assets/js/71.5ea64cfd.js"><link rel="prefetch" href="/assets/js/72.e6aa1f00.js"><link rel="prefetch" href="/assets/js/73.f3c75981.js"><link rel="prefetch" href="/assets/js/74.8e3e50e5.js"><link rel="prefetch" href="/assets/js/75.a999e369.js"><link rel="prefetch" href="/assets/js/76.43f17b74.js"><link rel="prefetch" href="/assets/js/77.bfeedf51.js"><link rel="prefetch" href="/assets/js/78.3a5c4169.js"><link rel="prefetch" href="/assets/js/79.4edb0ee4.js"><link rel="prefetch" href="/assets/js/8.822440c2.js"><link rel="prefetch" href="/assets/js/80.cbb762ac.js"><link rel="prefetch" href="/assets/js/81.4e58f07a.js"><link rel="prefetch" href="/assets/js/82.31ee1f4e.js"><link rel="prefetch" href="/assets/js/83.7e568ba5.js"><link rel="prefetch" href="/assets/js/84.1b636766.js"><link rel="prefetch" href="/assets/js/85.3b60c237.js"><link rel="prefetch" href="/assets/js/9.63d821ea.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.62a8c583.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d75de8d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Datopian Tech</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Data Flows + Factory - Research</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/flows/research/#tooling" class="sidebar-link">Tooling</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/flows/research/#concepts" class="sidebar-link">Concepts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flows/research/#inbox" class="sidebar-link">Inbox</a></li></ul></li><li><a href="/flows/research/#apache-beam" class="sidebar-link">Apache Beam</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flows/research/#pipeline" class="sidebar-link">Pipeline</a></li></ul></li><li><a href="/flows/research/#airflow" class="sidebar-link">Airflow</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flows/research/#airtunnel" class="sidebar-link">airtunnel</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-flows-factory-research"><a href="#data-flows-factory-research" class="header-anchor">#</a> Data Flows + Factory - Research</h1> <h2 id="tooling"><a href="#tooling" class="header-anchor">#</a> Tooling</h2> <ul><li>Luigi &amp; Airflow
<ul><li>These are task runners - managing a dependency graph between 1000s of tasks.</li> <li>Neither of them focus on actual data processing and are not a data streaming solution. Tasks do not move data from one to the other.</li> <li>AirFlow: see further analysis below</li></ul></li> <li>Nifi: Server based, Java, XML - not really suitable for quick prototyping</li> <li>Cascading: Only Java support</li> <li>Bubbles <a href="http://bubbles.databrewery.org/documentation.html" target="_blank" rel="noopener noreferrer">http://bubbles.databrewery.org/documentation.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - <a href="https://www.slideshare.net/Stiivi/data-brewery-2-data-objects" target="_blank" rel="noopener noreferrer">https://www.slideshare.net/Stiivi/data-brewery-2-data-objects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>mETL <a href="https://github.com/ceumicrodata/mETL" target="_blank" rel="noopener noreferrer">https://github.com/ceumicrodata/mETL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> mito ETL (yaml config files)</li> <li>Apache Beam: see below</li> <li><a href="https://delta.io/" target="_blank" rel="noopener noreferrer">https://delta.io/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - acid for data lakes (mid 2020). Comes out of DataBricks. Is this pattern or tooling?</li></ul> <h2 id="concepts"><a href="#concepts" class="header-anchor">#</a> Concepts</h2> <ul><li>Stream and Batch dichotomy is probably a false one – and unhelpful. Batch is just some grouping of stream. Batch done regularly enough starts to be a stream.</li> <li>More useful is complete vs incomplete data sources</li> <li>Hard part of streaming (or batch) work is handling case where events arrive “late”. For example, let’s say i want to total up total transaction volume at a bank per day … but some transactions arrived at the server late e.g. a transaction at 2355 actually arrives at 1207 because of network delay or some other issue then if i batch at 1200 based on what has arrived i have an issue. Most of work and complexity in Beam / DataFlow model relates to this.</li> <li>Essential duality between flows and states via difference and wum. E.g. transaction and balance:
<ul><li>Balance over time – differenced --&gt; Flow</li> <li>Flow – summed --&gt; Balance</li></ul></li> <li>Balance is often just a cached “sum”.</li> <li>Also relevant to datsets: we often think of them as states but really they are a flow.</li></ul> <h3 id="inbox"><a href="#inbox" class="header-anchor">#</a> Inbox</h3> <ul><li>[x] DataFlow paper: “The Dataflow Model: A Practical Approach to BalancingCorrectness, Latency, and Cost in Massive-Scale,Unbounded, Out-of-Order Data Processing” (2015)</li> <li>[ ] Stream vs Batch
<ul><li>[x] Streaming 101: The world beyond batch. A high-level tour of modern data-processing concepts. (Aug 2015)  <a href="https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-101" target="_blank" rel="noopener noreferrer">https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-101<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <strong>Good intro to streaming and DataFlow by one of its authors</strong></li> <li>[ ] <a href="https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-102" target="_blank" rel="noopener noreferrer">https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-102<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Follow up to previous paper</li></ul></li> <li>[ ] Apache Beam *<em>in progress – see below</em></li> <li>[ ] dbt <strong>initial review. Mainly a way conventient way of tracking in DB transforms</strong></li> <li>[ ] Frictionless DataFlows</li> <li>[x] Kreps (kafka author): <a href="https://www.oreilly.com/radar/questioning-the-lambda-architecture/" target="_blank" rel="noopener noreferrer">https://www.oreilly.com/radar/questioning-the-lambda-architecture/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>lambda architecture is where you run both batch and streaming in parallel as way to have traditional processing plus some kind of real-time results.</li> <li>basically Kreps says its a PITA to keep two parallel systems running and you can just go “streaming” (remember we are beyond the dichotomy)</li></ul></li></ul> <h2 id="apache-beam"><a href="#apache-beam" class="header-anchor">#</a> Apache Beam</h2> <p><a href="https://beam.apache.org/blog/2017/02/13/stateful-processing.html" target="_blank" rel="noopener noreferrer">https://beam.apache.org/blog/2017/02/13/stateful-processing.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="pipeline"><a href="#pipeline" class="header-anchor">#</a> Pipeline</h3> <p><a href="https://beam.apache.org/releases/pydoc/2.2.0/apache_beam.pipeline.html" target="_blank" rel="noopener noreferrer">https://beam.apache.org/releases/pydoc/2.2.0/apache_beam.pipeline.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Pipeline, the top-level Beam object.</p> <p>A pipeline holds a DAG of data transforms. Conceptually the nodes of the DAG are transforms (PTransform objects) and the edges are values (mostly PCollection objects). The transforms take as inputs one or more PValues and output one or more PValue s.</p> <p>The pipeline offers functionality to traverse the graph. The actual operation to be executed for each node visited is specified through a runner object.</p> <p>Typical usage:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Create a pipeline object using a local runner for execution.</span>
<span class="token keyword">with</span> beam<span class="token punctuation">.</span>Pipeline<span class="token punctuation">(</span><span class="token string">'DirectRunner'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> p<span class="token punctuation">:</span>

  <span class="token comment"># Add to the pipeline a &quot;Create&quot; transform. When executed this</span>
  <span class="token comment"># transform will produce a PCollection object with the specified values.</span>
  pcoll <span class="token operator">=</span> p <span class="token operator">|</span> <span class="token string">'Create'</span> <span class="token operator">&gt;&gt;</span> beam<span class="token punctuation">.</span>Create<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment"># Another transform could be applied to pcoll, e.g., writing to a text file.</span>
  <span class="token comment"># For other transforms, refer to transforms/ directory.</span>
  pcoll <span class="token operator">|</span> <span class="token string">'Write'</span> <span class="token operator">&gt;&gt;</span> beam<span class="token punctuation">.</span>io<span class="token punctuation">.</span>WriteToText<span class="token punctuation">(</span><span class="token string">'./output'</span><span class="token punctuation">)</span>

  <span class="token comment"># run() will execute the DAG stored in the pipeline.  The execution of the</span>
  <span class="token comment"># nodes visited is done using the specified local runner.</span>
</code></pre></div><h2 id="airflow"><a href="#airflow" class="header-anchor">#</a> Airflow</h2> <p>Airflow organices tasks in a DAG. A DAG (Directed Acyclic Graph) is a collection of all the tasks you want to run, organized in a way that reflects their relationships and dependencies.</p> <ul><li>Each task could be Bash, Python or others.</li> <li>You can connect the tasks in a DAG as you want (which one depends on which).</li> <li>Tasks could be built from Jinja templates.</li> <li>It has a nice and comfortable UI.</li></ul> <p>You can also use <em>Sensors</em>: you can wait for certain files or database changes for activate anoter jobs.</p> <p>References</p> <ul><li><a href="https://github.com/apache/airflow" target="_blank" rel="noopener noreferrer">https://github.com/apache/airflow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/videoamp/what-we-learned-migrating-off-cron-to-airflow-b391841a0da4" target="_blank" rel="noopener noreferrer">https://medium.com/videoamp/what-we-learned-migrating-off-cron-to-airflow-b391841a0da4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/@rbahaguejr/airflow-a-beautiful-cron-alternative-or-replacement-for-data-pipelines-b6fb6d0cddef" target="_blank" rel="noopener noreferrer">https://medium.com/@rbahaguejr/airflow-a-beautiful-cron-alternative-or-replacement-for-data-pipelines-b6fb6d0cddef<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="airtunnel"><a href="#airtunnel" class="header-anchor">#</a> airtunnel</h3> <p><a href="https://github.com/joerg-schneider/airtunnel" target="_blank" rel="noopener noreferrer">https://github.com/joerg-schneider/airtunnel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p><a href="https://medium.com/bcggamma/airtunnel-a-blueprint-for-workflow-orchestration-using-airflow-173054b458c3" target="_blank" rel="noopener noreferrer">https://medium.com/bcggamma/airtunnel-a-blueprint-for-workflow-orchestration-using-airflow-173054b458c3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - excellent piece on how to pattern airflow - “airtunnel”, plus overview of key tooling</p> <blockquote><p>This is why we postulate to have a central declaration file (as in YAML or JSON) per data asset, capturing all these properties required to run a generalized task (carried out by a custom operator). In other words, operators are designed in a generic way and receive the name of a data asset, from which they can grab its declaration file and learn how to parameterize and carry out the specific task.</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>├── archive
├── ingest
│   ├── archive
│   └── landing
├── ready
└── staging
    ├── intermediate
    ├── pickedup
    └── ready
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/datopian/tech.datopian.com/edit/master/flows/research/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Modified:</span> <span class="time">2/26/2021, 5:31:21 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1eb9e0ef.js" defer></script><script src="/assets/js/3.fa4bc789.js" defer></script><script src="/assets/js/58.951d4e34.js" defer></script>
  </body>
</html>
