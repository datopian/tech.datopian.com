(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{390:function(e,t,a){"use strict";a.r(t);var n=a(25),r=function(e){e.options.__data__block__={mermaid_382ee14d:'graph TB\n  subgraph ckanclassic["CKAN Classic"]\n    ckancore["Core"]\n  end\n',mermaid_382ee166:'graph TB\n  subgraph ckanclassic["CKAN Classic"]\n    ckancore["Core"] --\x3e ckanext["CKAN Extension 1"]\n  end\n',mermaid_382ee16a:'graph TB\n  subgraph ckanclassic["CKAN Classic"]\n    ckancore["Core"] --\x3e ckanext["CKAN Extension 1"]\n    ckancore --\x3e ckanext2["CKAN Extension 2"]\n    ckancore --\x3e ckanext3["CKAN Extension 3"]\n    ckancore --\x3e ckanext4["CKAN Extension 4"]\n    ckancore --\x3e ckanext5["CKAN Extension 5"]\n  end\n',mermaid_382ee1c1:'graph TB\n  subgraph ckanapi3["CKAN API 3"]\n    ckanapi31["API 3"]\n  end\n\n  subgraph ckanapi2["CKAN API 2"]\n    ckanapi21["API 2"]\n  end\n  \n  subgraph ckanapi1["CKAN API 1"]\n    ckanapi11["API 1"]\n  end\n\n  subgraph ckanfrontend["CKAN frontend"]\n    ckanfrontend1["Frontend"]\n  end\n  \n  ckanfrontend1 --\x3e ckanapi11\n  ckanfrontend1 --\x3e ckanapi21\n  ckanfrontend1 --\x3e ckanapi31\n',mermaid_382ee1e0:'graph TB\n  subgraph ckanapi3["CKAN API 3"]\n    ckanapi31["API 3"]\n  end\n\n  subgraph ckanapi2["CKAN API 2"]\n    ckanapi21["API 2"]\n  end\n  \n  subgraph ckanapi1["CKAN API 1"]\n    ckanapi11["API 1"]\n  end\n\n  subgraph ckanfrontend["CKAN frontend"]\n    ckanfrontend1["Frontend"]\n  end\n  \n  subgraph ckanclassic["CKAN Classic"]\n    ckancore["Core"] --\x3e ckanext["CKAN Extension 1"]\n    ckancore --\x3e ckanext2["CKAN Extension 2"]\n  end\n  \n  ckanfrontend1 --\x3e ckancore\n  ckanfrontend1 --\x3e ckanapi11\n  ckanfrontend1 --\x3e ckanapi21\n  ckanfrontend1 --\x3e ckanapi31\n',mermaid_64a56778:"graph LR\n\nCKAN[CKAN web app]\n\nCKAN --\x3e DB[(Database)]\nCKAN --\x3e Solr[(Solr)]\nCKAN --\x3e Redis[(Redis)]\n\nsubgraph Docker container\n  CKAN\nend\n",mermaid_64a56770:"graph LR\n  core[CKAN Core] --\x3e DB[(Database)]\n  datastore --\x3e DB2[(Database - DataStore)]\n  core --\x3e Solr[(Solr)]\n  core --\x3e Redis[(Redis)]\n  \n  subgraph Docker container\n    core\n    datastore\n    datapusher\n    imageview\n    ...\n  end\n",mermaid_64a559dc:'graph LR\n  subgraph api3["..."]\n    api31["API"]\n  end\n\n  subgraph api2["Administration"]\n    api21["API"]\n  end\n  \n  subgraph api1["Authentication"]\n    api11["API"]\n  end\n\n  subgraph frontend["Frontend"]\n    frontendapi["API"]\n  end\n  \n  subgraph storage["Raw Resources Storage"]\n    storageapi["API"]\n  end\n  \n  storageapi --\x3e cloudstorage[(Cloud Storage)]\n  \n  frontendapi --\x3e storageapi\n  frontendapi --\x3e api11\n  frontendapi --\x3e api21\n  frontendapi --\x3e api31\n',mermaid_64a55998:'graph TB\n  subgraph ckanapi3["CKAN API 3"]\n    ckanapi31["API 3"]\n  end\n\n  subgraph ckanapi2["CKAN API 2"]\n    ckanapi21["API 2"]\n  end\n  \n  subgraph ckanapi1["CKAN API 1"]\n    ckanapi11["API 1"]\n  end\n\n  subgraph ckanfrontend["Frontend"]\n    ckanfrontend1["Frontend v2"]\n    theme["[Project-specific theme]"]\n  end\n  \n  subgraph ckanclassic["CKAN Classic"]\n    ckancore["Core"] --\x3e ckanext["CKAN Extension 1"]\n    ckancore --\x3e ckanext2["[Project-specific extension]"]\n  end\n  \n  ckanfrontend1 --\x3e ckancore\n  ckanfrontend1 --\x3e ckanapi11\n  ckanfrontend1 --\x3e ckanapi21\n  ckanfrontend1 --\x3e ckanapi31\n',mermaid_64a55128:'graph TB\n  subgraph DataPusher\n    datapusherapi["DataPusher API"]\n    datapusherworker["CKAN Service Provider"]\n    SQLite[(SQLite)]\n  end\n  \n  subgraph CKAN\n    core\n    datapusher[datapusher ext]\n    datastore\n    ...\n  end\n  \n  core[CKAN Core] --\x3e datastore\n  datastore --\x3e DB[(Database)]\n  datapusherapi --\x3e core\n  datapusher --\x3e datapusherapi\n'}},o=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"ckan-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ckan-v3"}},[e._v("#")]),e._v(" CKAN v3")]),e._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("p",[e._v("This document describes the architectures of CKAN v2 (“CKAN Classic”), CKAN v3 (also known as “CKAN Next Gen” for Next Generation), and CKAN v3 hybrid. The latter is an intermediate approach towards v3, where we still use CKAN v2 and common extensions, and only create microservices for new features.")]),e._v(" "),a("p",[e._v("You will also find out how to do common tasks such as theming or testing, in each of the architectures.")]),e._v(" "),a("h2",{attrs:{id:"ckan-v2-ckan-v3-and-why-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ckan-v2-ckan-v3-and-why-v3"}},[e._v("#")]),e._v(" CKAN v2, CKAN v3 and Why v3")]),e._v(" "),a("p",[e._v("In yellow, you see one single Python process:")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee14d",graph:e.$dataBlock.mermaid_382ee14d}}),a("p",[e._v("When you want to extend core functionality of CKAN v2 (Classic), you write a Python package that must be installed in CKAN. This way, the extension will also run in the same process as the core functionality. This is known as a monolithic architecture.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee166",graph:e.$dataBlock.mermaid_382ee166}}),a("p",[e._v("When you start to add multiple features, through extensions, what you get is one single Python process running many non-related functionalities.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee16a",graph:e.$dataBlock.mermaid_382ee16a}}),a("p",[e._v("This monolithic approach has advantages in terms of simplicity of development and deployment, especially when the system is small. However, as it grows in scale and scope, there are an increasing number of issues.")]),e._v(" "),a("p",[e._v("In this approach, an optional extension has the ability to crash the whole CKAN instance. Every new feature must be written in the same language and framework (e.g. Python, leveraging Flask or Django). And, perhaps most fundamentally, the overall system is highly coupled, making it complex and hard to understand, debug, extend, and evolve.")]),e._v(" "),a("h3",{attrs:{id:"microservices-and-ckan-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#microservices-and-ckan-v3"}},[e._v("#")]),e._v(" Microservices and CKAN v3")]),e._v(" "),a("p",[e._v("The main way to address these problems while gaining extra benefits is to move to a microservices-based architecture.")]),e._v(" "),a("p",[e._v("Thus, we recommend building the next version of CKAN – CKAN v3 – on a microservices approach.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("CKAN v3 is sometimes also referred to as CKAN Next Gen(eration).")])]),e._v(" "),a("p",[e._v("With microservices, each piece of functionality runs in its own service and process.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1c1",graph:e.$dataBlock.mermaid_382ee1c1}}),a("h3",{attrs:{id:"incremental-evolution-hybrid-v3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#incremental-evolution-hybrid-v3"}},[e._v("#")]),e._v(" Incremental Evolution – Hybrid v3")]),e._v(" "),a("p",[e._v("One of the other advantages of the microservices approach is that it can also be used to extend and evolve current CKAN v2 solutions in an incremental way. We term these kinds of solutions “Hybrid v3,” as they are a mix of v2 and v3 together.")]),e._v(" "),a("p",[e._v("For example, a Hybrid v3 data portal could use a new microservice written in Node for the frontend, and combine that with CKAN v2 (with v2 extensions).")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1e0",graph:e.$dataBlock.mermaid_382ee1e0}}),a("p",[e._v("The hybrid approach means we can evolve CKAN v2 “Classic” to CKAN v3 “Next Gen” incrementally. In particular, it allows people to keep using their existing v2 extensions, and upgrade them to new microservices gradually.")]),e._v(" "),a("h3",{attrs:{id:"comparison-of-approaches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comparison-of-approaches"}},[e._v("#")]),e._v(" Comparison of Approaches")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th",[e._v("CKAN v2 (Classic)")]),e._v(" "),a("th",[e._v("CKAN v3 (Next Gen)")]),e._v(" "),a("th",[e._v("CKAN v3 Hybrid")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Architecture")]),e._v(" "),a("td",[e._v("Monolithic")]),e._v(" "),a("td",[e._v("Microservice")]),e._v(" "),a("td",[e._v("Microservice with v2 core")])]),e._v(" "),a("tr",[a("td",[e._v("Language")]),e._v(" "),a("td",[e._v("Python")]),e._v(" "),a("td",[e._v("You can write services in any language you like."),a("br"),a("br"),e._v("Frontend default: JS."),a("br"),e._v("Backend default: Python")]),e._v(" "),a("td",[e._v("Python and any language you like for microservices.")])]),e._v(" "),a("tr",[a("td",[e._v("Frontend (and theming)")]),e._v(" "),a("td",[e._v("Python with Python CKAN extension")]),e._v(" "),a("td",[e._v("Flexible. Default is modern JS/NodeJS based")]),e._v(" "),a("td",[e._v("Can use old frontend but default to new JS-based frontend.")])]),e._v(" "),a("tr",[a("td",[e._v("Data Packages")]),e._v(" "),a("td",[e._v("Add-on, no integration")]),e._v(" "),a("td",[e._v("Default internal and external format")]),e._v(" "),a("td",[e._v("Data Packages with converter to old CKAN format.")])]),e._v(" "),a("tr",[a("td",[e._v("Extension")]),e._v(" "),a("td",[e._v("Extensions are libraries that are added to core runtime. They must therefore be built in python and are loaded into the core process at build time. “Template/inheritance” model where hooks are in core and it is core that loads and calls plugins. This means that if a hook does not exist in core then the extension is stymied.")]),e._v(" "),a("td",[e._v("Extensions are microservices and can be written in any language. They are loaded into the url space via kubernetes routing manager. Extensions hook into “core” via APIs (rather than in code). Follows a “composition” model rather than inheritance model")]),e._v(" "),a("td",[e._v("Can use old style extensions or microservices.")])]),e._v(" "),a("tr",[a("td",[e._v("Resource Scaling")]),e._v(" "),a("td",[e._v("You have a single application so scaling is of the core application.")]),e._v(" "),a("td",[e._v("You can scale individual microservices as needed.")]),e._v(" "),a("td",[e._v("Mix of v2 and v3")])])])]),e._v(" "),a("h2",{attrs:{id:"why-v3-long-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#why-v3-long-version"}},[e._v("#")]),e._v(" Why v3: Long Version")]),e._v(" "),a("p",[e._v("What are the problems with CKAN v2’s monolithic architecture in relation to microservices v3?")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Poor Developer Experience (DX), innovability, and scalability due to coupling")]),e._v(". Monolithic means “one big system” => Coupling & Complexity => hard to understand, change and extend. Changes in one area can unexpectedly affect other areas.\n"),a("ul",[a("li",[e._v("DX to develop a small new API requires wiring into CKAN core via an extension. Extensions can interact in unexpected ways.")]),e._v(" "),a("li",[e._v("The core of people who fully understand CKAN has stayed small for a reason: there’s a lot of understand.")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/ckan/ckan/issues/5333",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/ckan/ckan/issues/5333"),a("OutboundLink")],1),e._v(" is an example of a small bug that’s hard to track down due to various paths involved.")]),e._v(" "),a("li",[e._v("Harder to make incremental changes due to coupling (e.g. Python 3 upgrade requires "),a("em",[e._v("everything")]),e._v(" to be fixed at once - can’t do rolling releases).")])])]),e._v(" "),a("li",[a("strong",[e._v("Stability")]),e._v(". One bad extension crashes or slows down the whole system")]),e._v(" "),a("li",[a("strong",[e._v("One language => Less developer flexibility (Poor DX)")]),e._v(". Have to write "),a("em",[e._v("everything")]),e._v(" in Python, including the frontend. This is an issue especially for the frontend: almost all modern frontend development is heavily Javascript-based and theme is the #1 thing people want to customize in CKAN. At the moment, that requires installing "),a("em",[e._v("all")]),e._v(" of CKAN core (using Docker) plus some familiarity with Python and Jinja templating. This is a big ask.")]),e._v(" "),a("li",[a("strong",[e._v("Extension stablity and testing")]),e._v(". Testing of extensions is painful (at least without careful factoring in a separate mini library) and are therefore often not tested; they don’t have Continuous Integration (CI) or Continuous Deployment (CD). As an example, a highly experienced Python developer at Datopian was still struggling to get extension tests working 6 months into their CKAN work.")]),e._v(" "),a("li",[a("strong",[e._v("DX is poor especially when getting started")]),e._v(". Getting CKAN up and running requires multiple external services (database, Solr, Redis, etc.) making Docker the only viable way for bootstraping a local development environment. This makes getting started with CKAN daunting and painful.")]),e._v(" "),a("li",[a("strong",[e._v("Vertical scalability is poor")]),e._v(". Scaling the system is costly as you have to replicate the whole core process in every machine.")]),e._v(" "),a("li",[a("strong",[e._v("System is highly coupled.")]),e._v(" Extensions b/c in process tend to end up with significant coupling to core which makes them brittle (has improved with plugins.toolkit)\n"),a("ul",[a("li",[e._v("Upgrading core to Python 3 requires upgrading "),a("em",[e._v("all")]),e._v(" extensions because they run in the same process.")]),e._v(" "),a("li",[e._v("Search Index is not a separate API, but in Core. So replacing Solr is hard.")])])])]),e._v(" "),a("p",[e._v("The top 2 customizations of CKAN are slow and painful and require deep knowledge of CKAN:")]),e._v(" "),a("ul",[a("li",[e._v("Theming a site.")]),e._v(" "),a("li",[e._v("Customizing the metadata.")])]),e._v(" "),a("h2",{attrs:{id:"architectures"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#architectures"}},[e._v("#")]),e._v(" Architectures")]),e._v(" "),a("h3",{attrs:{id:"ckan-v2-classic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ckan-v2-classic"}},[e._v("#")]),e._v(" CKAN v2 (Classic)")]),e._v(" "),a("p",[e._v("This diagram is based on the file "),a("code",[e._v("docker-compose.yml")]),e._v(" of "),a("a",{attrs:{href:"https://github.com/okfn/docker-ckan",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/okfn/docker-ckan"),a("OutboundLink")],1),e._v(" ("),a("code",[e._v("docker-compose.dev.yml")]),e._v(" has the same components, but different configuration).")]),e._v(" "),a("p",[e._v("A difference from this diagram to the file is that we are not including DataPusher, as it is not a required dependency.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("Databases may run as Docker containers, or rely on third-party services such as Amazon Relational Database Service (RDS).")])]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_64a56778",graph:e.$dataBlock.mermaid_64a56778}}),a("p",[e._v("Same setup showing some of the key extensions explicitly:")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_64a56770",graph:e.$dataBlock.mermaid_64a56770}}),a("p",[e._v("CKAN ships with several core extensions that are built-in. Here, together with the list of main components, we list a couple of them:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Type")]),e._v(" "),a("th",[e._v("Repository")]),e._v(" "),a("th",[e._v("Description")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("CKAN")]),e._v(" "),a("td",[e._v("Application (API + Worker)")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/ckan",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Data management system (DMS) for powering data hubs and data portals. It’s a monolithical web application that includes several built-in extensions and dependencies, such as a job queue service. In theory, it’s possible to run it without any extensions.")])]),e._v(" "),a("tr",[a("td",[e._v("datapusher")]),e._v(" "),a("td",[e._v("CKAN Extension")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/ckan/tree/master/ckanext/datapusher",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("It could also be called “datapusher-connect.” It’s a glue code to connect with a separate microservice called DataPusher, which performs actions when new data arrives.")])]),e._v(" "),a("tr",[a("td",[e._v("datastore")]),e._v(" "),a("td",[e._v("CKAN Extension")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/ckan/tree/master/ckanext/datastore",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("The interface between CKAN and the structure database, the one receiving datasets and resources (CSVs). It includes an API for the database and an administrative UI.")])]),e._v(" "),a("tr",[a("td",[e._v("imageview")]),e._v(" "),a("td",[e._v("CKAN Extension")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/ckan/tree/master/ckanext/imageview",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("It provides an interface for creating HTML templates for image resources.")])]),e._v(" "),a("tr",[a("td",[e._v("multilingual")]),e._v(" "),a("td",[e._v("CKAN Extension")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/ckan/tree/master/ckanext/multilingual",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("It provides an interface for translation and localization.")])]),e._v(" "),a("tr",[a("td",[e._v("Database")]),e._v(" "),a("td",[e._v("Database")]),e._v(" "),a("td"),e._v(" "),a("td",[e._v("People tend to use a single PostgreSQL instance for this. Separated in multiple databases, it’s the place where CKAN stores its own information (sometimes referred as “MetaStore” and “HubStore”), rows of resources (StructuredStore or DataStore), and raw datasets and resources (“BlobStore” or “FileStore”). The latter may store data in the local filesystem or cloud providers, via extensions.")])]),e._v(" "),a("tr",[a("td",[e._v("Solr")]),e._v(" "),a("td",[e._v("Database")]),e._v(" "),a("td"),e._v(" "),a("td",[e._v("It provides indexing and full-text search for CKAN.")])]),e._v(" "),a("tr",[a("td",[e._v("Redis")]),e._v(" "),a("td",[e._v("Database")]),e._v(" "),a("td"),e._v(" "),a("td",[e._v("Lightweight key-value store, used for caching and job queues.")])])])]),e._v(" "),a("h3",{attrs:{id:"ckan-v3-next-gen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ckan-v3-next-gen"}},[e._v("#")]),e._v(" CKAN v3 (Next Gen)")]),e._v(" "),a("p",[e._v("CKAN Next Gen is still a DMS, as CKAN Classic; but rather than a monolithical architecture, it follows the microservices approach. CKAN Classic is not a dependency anymore, as we have smaller services providing functionality that we may or many not choose to include. This description is based on "),a("a",{attrs:{href:"http://tech.datopian.com/next-gen/#roadmap",target:"_blank",rel:"noopener noreferrer"}},[e._v("Datopian’s Technical Documentation"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_64a559dc",graph:e.$dataBlock.mermaid_64a559dc}}),a("p",[e._v("At this moment, many important features are only available through CKAN extensions, so that brings us to the hybrid approach.")]),e._v(" "),a("h3",{attrs:{id:"ckan-hybrid-v3-next-gen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ckan-hybrid-v3-next-gen"}},[e._v("#")]),e._v(" CKAN Hybrid v3 (Next Gen)")]),e._v(" "),a("p",[e._v("We may sometimes make an explit distinction between CKAN v3 “hybrid” and “pure.” The reason is because we want to ensure that we’re not there yet – we have many opportunities to extract features out of CKAN and CKAN Extensions.")]),e._v(" "),a("p",[e._v("In this approach, we still rely on CKAN Classic and all its extensions. Many already had many tests and bugs fixed, so we can deliver more if not forced to rewrite everything from scratch.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_64a55998",graph:e.$dataBlock.mermaid_64a55998}}),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Type")]),e._v(" "),a("th",[e._v("Repository")]),e._v(" "),a("th",[e._v("Description")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Frontend v2")]),e._v(" "),a("td",[e._v("Application")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/datopian/frontend-v2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Node application for Data Portals. It communicates with a CKAN Classic instance, through its API, to get data and render HTML. It is written to be extensible, such as connecting to other applications and theming.")])]),e._v(" "),a("tr",[a("td",[e._v("[Project-specific theme]")]),e._v(" "),a("td",[e._v("Frontend Theme")]),e._v(" "),a("td",[e._v("e.g., "),a("a",{attrs:{href:"https://github.com/datopian/frontend-oddk",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Extension to Frontend v2 where you can personalize the interface, create different pages, and connect with other APIs.")])]),e._v(" "),a("tr",[a("td",[e._v("[API 1]")]),e._v(" "),a("td",[e._v("Application")]),e._v(" "),a("td",[e._v("e.g., "),a("a",{attrs:{href:"https://github.com/datopian/data-subscriptions",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Any application with an API to communicate with the user-facing Frontend v2 or to run tasks in background. Given the current architecture, often, this API is usually designed to work with CKAN interfaces. Over time, we may choose to make it more generic, and even replace CKAN Core with other applications.")])])])]),e._v(" "),a("h2",{attrs:{id:"job-stories"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-stories"}},[e._v("#")]),e._v(" Job Stories")]),e._v(" "),a("p",[e._v("In this spreadsheet, you will find a list of common job stories in CKAN projects. Also, how you can accomplish them in CKAN v2, v3, and Hybrid v3.")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1cLK8xylprmVsoQIbdphqz9-ccSpdDABQExvKdvNJqaQ/edit#gid=757361856",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.google.com/spreadsheets/d/1cLK8xylprmVsoQIbdphqz9-ccSpdDABQExvKdvNJqaQ/edit#gid=757361856"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"glossary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#glossary"}},[e._v("#")]),e._v(" Glossary")]),e._v(" "),a("h3",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),a("p",[e._v("An HTTP API, usually following the REST style.")]),e._v(" "),a("h3",{attrs:{id:"application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application"}},[e._v("#")]),e._v(" Application")]),e._v(" "),a("p",[e._v("A Python package, an API, a worker… It may have other applications as dependencies.")]),e._v(" "),a("h3",{attrs:{id:"ckan-extension"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ckan-extension"}},[e._v("#")]),e._v(" CKAN Extension")]),e._v(" "),a("p",[e._v("A Python package following specification from "),a("a",{attrs:{href:"https://docs.ckan.org/en/2.8/extensions/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CKAN Extending guide"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[e._v("#")]),e._v(" Database")]),e._v(" "),a("p",[e._v("An organized collection of data.")]),e._v(" "),a("h3",{attrs:{id:"dataset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dataset"}},[e._v("#")]),e._v(" Dataset")]),e._v(" "),a("p",[e._v("A group of resources made to be distributed together.")]),e._v(" "),a("h3",{attrs:{id:"frontend-theme"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frontend-theme"}},[e._v("#")]),e._v(" Frontend Theme")]),e._v(" "),a("p",[e._v("A Node project specializing behavior present in "),a("a",{attrs:{href:"https://github.com/datopian/frontend-v2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Frontend v2"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"resource"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource"}},[e._v("#")]),e._v(" Resource")]),e._v(" "),a("p",[e._v("A data blob. Common formats are CSV, JSON, and PDF.")]),e._v(" "),a("h3",{attrs:{id:"system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system"}},[e._v("#")]),e._v(" System")]),e._v(" "),a("p",[e._v("A group of applications and databases that work together to accomplish a set of tasks.")]),e._v(" "),a("h3",{attrs:{id:"worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#worker"}},[e._v("#")]),e._v(" Worker")]),e._v(" "),a("p",[e._v("An application that runs tasks in background. They may run recurrently according to a given schedule, or as soon as it’s requested by another application.")]),e._v(" "),a("h2",{attrs:{id:"appendix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appendix"}},[e._v("#")]),e._v(" Appendix")]),e._v(" "),a("h3",{attrs:{id:"architecture-ckan-v2-with-datapusher"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#architecture-ckan-v2-with-datapusher"}},[e._v("#")]),e._v(" Architecture - CKAN v2 with DataPusher")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_64a55128",graph:e.$dataBlock.mermaid_64a55128}}),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Type")]),e._v(" "),a("th",[e._v("Repository")]),e._v(" "),a("th",[e._v("Description")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("DataPusher")]),e._v(" "),a("td",[e._v("System")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/datapusher",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Microservice that parses data files and uploads them to the datastore.")])]),e._v(" "),a("tr",[a("td",[e._v("DataPusher API")]),e._v(" "),a("td",[e._v("API")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/datapusher",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("HTTP API written in Flask. It is called from the built-in "),a("code",[e._v("datapusher")]),e._v(" CKAN extension whenever a resource is created (and has the right type).")])]),e._v(" "),a("tr",[a("td",[e._v("CKAN Service Provider")]),e._v(" "),a("td",[e._v("Worker")]),e._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/ckan/ckan-service-provider",target:"_blank",rel:"noopener noreferrer"}},[e._v("Link"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Library for making web services that make functions available as synchronous or asynchronous jobs.")])]),e._v(" "),a("tr",[a("td",[e._v("SQLite")]),e._v(" "),a("td",[e._v("Database")]),e._v(" "),a("td"),e._v(" "),a("td",[e._v("Unknown use. Possibly a worker dependency.")])])])]),e._v(" "),a("h3",{attrs:{id:"old-next-gen-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#old-next-gen-page"}},[e._v("#")]),e._v(" Old Next Gen Page")]),e._v(" "),a("p",[e._v("Prior to this page, we had one called “Next Gen.” It has intersections with this article, although it focuses more on the benefits of microservices. For the time being, the page still exists in "),a("RouterLink",{attrs:{to:"/ckan-v3/next-gen.html"}},[e._v("/ckan-v3/next-gen")]),e._v(", although it may get merged with this one in the future.")],1),e._v(" "),a("h3",{attrs:{id:"old-ckan-v3-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#old-ckan-v3-page"}},[e._v("#")]),e._v(" Old CKAN v3 Page")]),e._v(" "),a("p",[e._v("Prior to this page, we had one called “CKAN v3.” It collects naming conventions used in DataHub. For the time being, the page still exists in "),a("RouterLink",{attrs:{to:"/ckan-v3/v3-old.html"}},[e._v("/ckan-v3/v3-old")]),e._v(", although it may get merged with this one in the future.")],1)],1)}),[],!1,null,null,null);"function"==typeof r&&r(o);t.default=o.exports}}]);