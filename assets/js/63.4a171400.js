(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{421:function(e,a,t){"use strict";t.r(a);var n=t(18),r=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"post-deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#post-deployment"}},[e._v("#")]),e._v(" Post Deployment")]),e._v(" "),t("h2",{attrs:{id:"debugging"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#debugging"}},[e._v("#")]),e._v(" Debugging")]),e._v(" "),t("p",[e._v("To check all the logs at any time:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo make logs O=<<instance-id>>\n")])])]),t("p",[e._v("To check the logs for a specific service:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo make logs O=<<instance-id>> S=<<Service Name>>\n")])])]),t("p",[t("em",[e._v("(exit the logs by pressing Ctrl+C at any time)")])]),e._v(" "),t("p",[e._v("To get inside a running ckan container")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo make shell O=<<instance-id>> S=<<Service Name>> C=<<command>>\n")])])]),t("p",[e._v("Note: for some services (Eg: Nginx) you mite need to use C="),t("code",[e._v("sh")]),e._v(" instead of c="),t("code",[e._v("bash")])]),e._v(" "),t("h2",{attrs:{id:"configuration-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-files"}},[e._v("#")]),e._v(" Configuration Files")]),e._v(" "),t("p",[e._v("The functionality and features of CKAN can be modified using many different configuration options. These are generally set in the CKAN configuration file.")]),e._v(" "),t("p",[e._v("Configurations are stored in "),t("code",[e._v("docker-compose/ckan-conf-templates/<<instance-id>>-theme-production.ini.template")]),e._v(". You can add or edit any CKAN configuration depending on your needs. Eg you might need to add some extensions related configuration to the file. Or add new extension to the list of existing ones.")]),e._v(" "),t("p",[t("em",[e._v("Note:")]),e._v(" You will need to restart you app after making changes to this file")]),e._v(" "),t("ul",[t("li",[e._v("See CKAN documentations for better understanding of it’s configurations "),t("a",{attrs:{href:"https://docs.ckan.org/en/ckan-2.7.3/maintaining/configuration.html#ckan-configuration-file",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.ckan.org/en/ckan-2.7.3/maintaining/configuration.html#ckan-configuration-file"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"project-specific-docker-compose-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#project-specific-docker-compose-files"}},[e._v("#")]),e._v(" Project Specific Docker-Compose Files")]),e._v(" "),t("p",[e._v("There are few docker-files in the project that have their specific job and are used for proper build. You won’t need to modify them unless you need them and know what are you doing. This files are")]),e._v(" "),t("ul",[t("li",[e._v("Main "),t("a",{attrs:{href:"https://github.com/ViderumGlobal/ckan-cloud-docker/blob/master/docker-compose.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-compose.yaml"),t("OutboundLink")],1),e._v(" - this is the base configuration file for the build.")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/ViderumGlobal/ckan-cloud-docker/blob/master/.docker-compose-db.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v(".docker-compose-db.yaml"),t("OutboundLink")],1),e._v(" - this is used for configuring the build of database images")])]),e._v(" "),t("p",[e._v("Most interesting for us is project specific "),t("a",{attrs:{href:"https://github.com/ViderumGlobal/ckan-cloud-docker/blob/master/.docker-compose.datagov-theme.yaml",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-compose files"),t("OutboundLink")],1),e._v(" - Here you can find the configurations that overrides the main docker-compose.yaml as per project need. It’s used to install new extensions, execute various command while build and aply patches. We will outline few useful tips")]),e._v(" "),t("h3",{attrs:{id:"post-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#post-install"}},[e._v("#")]),e._v(" POST_INSTALL")]),e._v(" "),t("p",[e._v("This is the section where you can add new extension that you need to install for CKAN app")]),e._v(" "),t("p",[e._v("CKAN extensions are mostly installed from GitHub repositories. Here you can define repository to install from, branch (optional) and egg (optional)")]),e._v(" "),t("h4",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("install_standard_ckan_extension_github -r my/ckanext-example -b testing -e egg\n\ninstall_standard_ckan_extension_github -r ckan/ckanext-dcat -b ckanext-dcat\n")])])]),t("h3",{attrs:{id:"root-init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#root-init"}},[e._v("#")]),e._v(" ROOT_INIT")]),e._v(" "),t("p",[e._v("Due to security CKAN app is run by "),t("code",[e._v("ckan")]),e._v(" user, meaning that user does not have premission to do everything inside container. In this section you can execute useful commands for you as a root.")]),e._v(" "),t("h4",{attrs:{id:"example-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-2"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("mkdir -p /var/log/supervisor\nchown ckan:ckan /var/log/supervisor\n")])])]),t("h3",{attrs:{id:"post-docker-build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#post-docker-build"}},[e._v("#")]),e._v(" POST_DOCKER_BUILD")]),e._v(" "),t("p",[e._v("Here you can execute command that are needed to be run after the build is finished")]),e._v(" "),t("h4",{attrs:{id:"example-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-3"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("mkdir -p /var/tmp/ckan/dynamic_menu &&\\\nmkdir -p /var/log/ckan/std/\n")])])]),t("h3",{attrs:{id:"ckan-init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ckan-init"}},[e._v("#")]),e._v(" CKAN_INIT")]),e._v(" "),t("p",[e._v("Here you can define CKAN CLI commands to be executed after the build, eg: initialize databases")]),e._v(" "),t("h4",{attrs:{id:"example-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-4"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('ckan-paster --plugin=ckanext-archiver archiver init  -c "CKAN_CONFIG/production.ini"\nckan-paster --plugin=ckanext-report report initdb  -c "CKAN_CONFIG/production.ini"\nckan-paster --plugin=ckanext-harvest harvester initdb  -c "CKAN_CONFIG/production.ini"\n')])])]),t("h3",{attrs:{id:"extra-packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extra-packages"}},[e._v("#")]),e._v(" EXTRA_PACKAGES")]),e._v(" "),t("p",[e._v("Here you can define any extra packages from "),t("code",[e._v("apt")]),e._v(" repository")]),e._v(" "),t("h4",{attrs:{id:"example-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-5"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("supervisor cron\n")])])]),t("h3",{attrs:{id:"extra-filesystem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extra-filesystem"}},[e._v("#")]),e._v(" EXTRA_FILESYSTEM")]),e._v(" "),t("p",[e._v("Here you can define the path to the folder/files that you want to mount on docker container file system.")]),e._v(" "),t("h4",{attrs:{id:"example-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-6"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("./overrides/<<instance_id>>/filesystem/\n")])])]),t("h2",{attrs:{id:"installing-and-enabling-a-new-extension"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-and-enabling-a-new-extension"}},[e._v("#")]),e._v(" Installing and enabling a new extension")]),e._v(" "),t("p",[e._v("CKAN allows installing various extensions (plugins) to the existing core setup. In order to enable/disable them you will have to install them and include into the ckan config file.")]),e._v(" "),t("p",[e._v("To install extension you need to modify "),t("code",[e._v("POST_INSTALL")]),e._v(" section of ckan service in "),t("code",[e._v(".docker-compose.{instance-id}-theme.yaml")]),e._v(". Eg to install s3filestore extension")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("POST_INSTALL: |\n  install_standard_ckan_extension_github -r datopian/ckanext-s3filestore &&\\\n")])])]),t("p",[e._v("And add extension to the list of plugins in "),t("code",[e._v("docker-compose/ckan-conf-templates/{instance-id}-theme-production.ini.template")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# in docker-compose/ckan-conf-templates/{instance-id}-theme-production.ini.template\nckan.plugins = image_view\n   ...\n   stats\n   s3filestore\n")])])]),t("p",[e._v("Note: depending on extension you might also need to update extensions related configurations in the same file. If needed this type of information is usually included in extension REAMDE.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# in docker-compose/ckan-conf-templates/{instance-id}-theme-production.ini.template\nckanext.s3filestore.aws_access_key_id = Your-Access-Key-ID\nckanext.s3filestore.aws_secret_access_key = Your-Secret-Access-Key\nckanext.s3filestore.aws_bucket_name = a-bucket-to-store-your-stuff\nckanext.s3filestore.host_name = host-to-S3-cloud storage\nckanext.s3filestore.region_name= region-name\nckanext.s3filestore.signature_version = signature (s3v4)\n")])])]),t("p",[e._v("In order to disable extension you can simple remove it from the list of plugins. You will probably also want to remove it from "),t("code",[e._v("POST_INSTALL")]),e._v(" part to avoid redundant installs, although this is not must.")]),e._v(" "),t("h2",{attrs:{id:"patching"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#patching"}},[e._v("#")]),e._v(" Patching")]),e._v(" "),t("p",[e._v("Sometimes you need to patch core CKAN codebase. You should place patches in "),t("code",[e._v("ckan/overrides/<<instance-id>>/filesystem/etc/patches/<<folder-to-patch>>/my.patch")]),e._v(".")]),e._v(" "),t("p",[e._v("You need to also include "),t("code",[e._v("./post_install_functions.sh && patch_ckan")]),e._v(" in "),t("code",[e._v("ROOT_INIT")]),e._v(" commands. See "),t("a",{attrs:{href:"ROOT_INIT"}},[e._v("ROOT_INIT")])]),e._v(" "),t("h4",{attrs:{id:"example-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-7"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("ckan/overrides/my-project/filesystem/etc/patches/ckan/disable_streaming.patch")])]),e._v(" "),t("li",[t("code",[e._v("ckan/overrides/my-project/filesystem/etc/patches/ckanext-views/enable_grid.patch")])])]),e._v(" "),t("h2",{attrs:{id:"additional-configurations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#additional-configurations"}},[e._v("#")]),e._v(" Additional Configurations")]),e._v(" "),t("h3",{attrs:{id:"configure-smtp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-smtp"}},[e._v("#")]),e._v(" Configure SMTP")]),e._v(" "),t("p",[e._v("CKAN needs credentials and your SMTP server information in order to start sending emails. You can choose SMTP service provider of your choice like mailgun,  sendgrid or any other. You will need following info from you provider")]),e._v(" "),t("ul",[t("li",[e._v("Username - SMTP user")]),e._v(" "),t("li",[e._v("Password - password or API key associated with user")]),e._v(" "),t("li",[e._v("Server (Including port number) - SMTP server url")]),e._v(" "),t("li",[e._v("Mail From - valid email address the mail should be sent from")])]),e._v(" "),t("p",[e._v("Once you have all the needed info run ./create_secrets.py and fill the prompt #[14] - #[16]")]),e._v(" "),t("h4",{attrs:{id:"example-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-8"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("ul",[t("li",[e._v("User: "),t("a",{attrs:{href:"mailto:no-reply@hosting.ckanmail.com"}},[e._v("no-reply@hosting.ckanmail.com")])]),e._v(" "),t("li",[e._v("Server: "),t("a",{attrs:{href:"http://smtp.mailgun.org:587",target:"_blank",rel:"noopener noreferrer"}},[e._v("smtp.mailgun.org:587"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Password: PassW0rD")]),e._v(" "),t("li",[e._v("Mail From: "),t("a",{attrs:{href:"mailto:no-reply@hosting.ckanmail.com"}},[e._v("no-reply@hosting.ckanmail.com")])])]),e._v(" "),t("h3",{attrs:{id:"configure-sentry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-sentry"}},[e._v("#")]),e._v(" Configure Sentry")]),e._v(" "),t("p",[e._v("You might need to receive notifications whenever your CKAN applications, so that you can easily monitor, scale and manage them. You can configure CKAN simply by setting sentry DNS. run ./create_secrets.py and fill the prompt #[20]")]),e._v(" "),t("h4",{attrs:{id:"example-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-9"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("ul",[t("li",[e._v("Sentry_dns: "),t("a",{attrs:{href:"https://user_name:password@sentry.io/1234567",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://user_name:password@sentry.io/1234567"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"configure-google-analytics"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configure-google-analytics"}},[e._v("#")]),e._v(" Configure Google-Analytics")]),e._v(" "),t("p",[e._v("You might want to be able to track and monitor CKAN application usage. You will need following info from your Google Analytics account")]),e._v(" "),t("ul",[t("li",[e._v("GA account - usually the website name")]),e._v(" "),t("li",[e._v("GA ID - Unique ID")]),e._v(" "),t("li",[e._v("GA Password - Password from account (you might need to create dedicated account for this specific use and give appropriate permission)")]),e._v(" "),t("li",[e._v("GA username - User Name")])]),e._v(" "),t("p",[e._v("You can configure CKAN app by running ./create_secrets.py and fill the prompts #[21] - #[24]")]),e._v(" "),t("h4",{attrs:{id:"example-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-10"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("ul",[t("li",[e._v("GA account - datopian")]),e._v(" "),t("li",[e._v("GA ID - UA-123456678-1")]),e._v(" "),t("li",[e._v("GA Password - SecrEt")]),e._v(" "),t("li",[e._v("GA username - "),t("a",{attrs:{href:"mailto:datopian.analytics@datopian.com"}},[e._v("datopian.analytics@datopian.com")])])]),e._v(" "),t("h2",{attrs:{id:"sysadmin-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sysadmin-guide"}},[e._v("#")]),e._v(" Sysadmin Guide")]),e._v(" "),t("p",[e._v("Step by step for sysadmin experts (IT department) for what can you do as admin")]),e._v(" "),t("h2",{attrs:{id:"creating-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-users"}},[e._v("#")]),e._v(" Creating users")]),e._v(" "),t("p",[e._v("To perform any action other than viewing or downloading data in CKAN, a user must be registered and logged in. Each user can have a different role assigned that grants more or less permissions.")]),e._v(" "),t("h3",{attrs:{id:"system-administrators-sysadmins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#system-administrators-sysadmins"}},[e._v("#")]),e._v(" System Administrators (sysadmins)")]),e._v(" "),t("p",[e._v("The highest level is the System Administrator, usually known as sysadmin. Sysadmins have full control over the portal, both through the interface and the API, they can for example:")]),e._v(" "),t("ul",[t("li",[e._v("create organizations, categories and datasets in any organization")]),e._v(" "),t("li",[e._v("create and delete existing users")]),e._v(" "),t("li",[e._v("modify the content of the accessory pages")])]),e._v(" "),t("p",[e._v("Obviously it is a role with a lot of responsibility so it is important not to limit the number of sysadmins but to be clear at all times who has that role. Sysadmins users are created manually on the server, so the team that is responsible for hosting the portal and has the ability to execute commands on it must create the required users with the following commands:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo make user O = <<instance-id>> U = admin P = 123456 E=admin@datpian.com\nsudo make sysadmin O = <<instance-id>> U = admin\n")])])]),t("p",[e._v("At any time a sysadmin user can check the Sysadmin users")]),e._v(" "),t("h3",{attrs:{id:"sysadmin-control-panel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sysadmin-control-panel"}},[e._v("#")]),e._v(" Sysadmin Control Panel")]),e._v(" "),t("p",[e._v("Here you can edit portal related configuration, like website title, site logo or add custom styling. Login as sysadmin and navigate to ckan-admin/config page and make changes you need. Eg: "),t("a",{attrs:{href:"https://demo.ckan.org/ckan-admin/config",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://demo.ckan.org/ckan-admin/config"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"creating-organizations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-organizations"}},[e._v("#")]),e._v(" Creating organizations")]),e._v(" "),t("p",[e._v("The actions in CKAN that require some type of authorization are carried out by Users. All users must belong to one or more Institutions (Organizations). Organizations can be different government offices, different data publishers, etc… Within an organization users can have different roles (Administrator, Editor or Member of the Organization).")]),e._v(" "),t("p",[e._v("You can create organizations with both Web UI or using CKAN API. You will need to be sysadmin to perform that action.")]),e._v(" "),t("p",[e._v("To create an organization:")]),e._v(" "),t("ol",[t("li",[e._v("Select the “Organizations” link at the top of any page.")]),e._v(" "),t("li",[e._v("Select the “Add Organization” button below the search box.")]),e._v(" "),t("li",[e._v("CKAN displays the “Create an Organization” page.")]),e._v(" "),t("li",[e._v("Enter a name for the organization, and, optionally, a description and image URL for the organization’s home page.")]),e._v(" "),t("li",[e._v("Select the “Create Organization” button. CKAN creates your organization and displays its home page. Initially, of course, the organization has no datasets.")])]),e._v(" "),t("p",[e._v("Post Deployment")]),e._v(" "),t("p",[e._v("Alternatively you can send a POST request to CKAN API")]),e._v(" "),t("h3",{attrs:{id:"example-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-11"}},[e._v("#")]),e._v(" Example")]),e._v(" "),t("p",[e._v("See also "),t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/api/#ckan.logic.action.create.organization_create",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('curl -X POST https://demo.ckan.org/api/3/action/organization_create -H "Authorization: 9c04a69d-79f4-4b4b-b4e1-f2ac31ed961c" -d \'{\n  "name": "demo-organization",\n  "title": "Demo Organization",\n  "description": "This is my awesome organization"\n}\'\n')])])]),t("h2",{attrs:{id:"resetting-passwords"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resetting-passwords"}},[e._v("#")]),e._v(" Resetting passwords")]),e._v(" "),t("p",[e._v("CKAN gives the ability to reset passwords by default. All you need is to configure your SMTP credentials properly (see Configure SMTP). All you need is to navigate /user/reset page of your portal")]),e._v(" "),t("h2",{attrs:{id:"configuring-visualizations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuring-visualizations"}},[e._v("#")]),e._v(" Configuring visualizations")]),e._v(" "),t("p",[e._v("The CKAN resource page can contain one or more visualizations of the resource data or file contents (a table, a bar chart, a map, etc). These are commonly referred to as resource views. There are a number of different extensions that are providing different types of visualizations:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#data-explorer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Data Explorer"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#datastore-grid",target:"_blank",rel:"noopener noreferrer"}},[e._v("DataStore Grid"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#datastore-graph",target:"_blank",rel:"noopener noreferrer"}},[e._v("DataStore Graph"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#datastore-map",target:"_blank",rel:"noopener noreferrer"}},[e._v("DataStore Map"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#text-view",target:"_blank",rel:"noopener noreferrer"}},[e._v("Text view"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#image-view",target:"_blank",rel:"noopener noreferrer"}},[e._v("Image view"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#web-page-view",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web page view"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.ckan.org/en/2.8/maintaining/data-viewer.html#other-view-plugins",target:"_blank",rel:"noopener noreferrer"}},[e._v("Other view plugins"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("Like any other extensions, in order to be used on the site, these have to be loaded in the configuration of the site. Apart from this, each display plugin determines which resource you can view, usually depending on the format of that resource. There will not be the same plugins available for a PDF file as a CSV file or a WMS service for example.")]),e._v(" "),t("p",[e._v("You can find the CKAN configuration file located in "),t("code",[e._v("ckan-cloud-docker/tree/master/docker-compose/ckan-conf-templates/<<instance-id>>-themer-production.ini.template")])]),e._v(" "),t("p",[e._v("All you need is to add desired extension to plugins")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ckan.plugins = … inside your .ini.template and restart the application.\n")])])]),t("h2",{attrs:{id:"creating-new-public-folders"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-new-public-folders"}},[e._v("#")]),e._v(" Creating new public folders")]),e._v(" "),t("p",[e._v("The visualization applications can be assigned to top-level Application Groups.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/nZ6uwzz.png",alt:""}})]),e._v(" "),t("p",[e._v("In order to update the available application groups, all you need is to edit "),t("code",[e._v("docker-compose/ckan-conf-templates/<<instance-id>>-theme-production.ini.template")]),e._v(".")]),e._v(" "),t("ul",[t("li",[e._v("Find "),t("code",[e._v("ckanext.querytool.groups")]),e._v(" there or add new line if it’s not already there.")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('ckanext.querytool.groups = brazil:Brazil,china:营养,mexico:Mexico"\n')])])]),t("p",[e._v("These comma-separated key:Value pairs represent the path and the title of the application group.")]),e._v(" "),t("h2",{attrs:{id:"troubleshooting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),t("h3",{attrs:{id:"build-is-taking-too-much-time-couple-of-ours"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-is-taking-too-much-time-couple-of-ours"}},[e._v("#")]),e._v(" Build is taking too much time (couple  of ours)")]),e._v(" "),t("p",[e._v("This might be caused by your country blocking "),t("code",[e._v("pip")]),e._v(" or "),t("code",[e._v("apt")]),e._v(" package managers for wahtever reasons. You can use your local mirrors if such exists See "),t("a",{attrs:{href:"#Local-mirrors"}},[e._v("Use Local-mirrors")])]),e._v(" "),t("h3",{attrs:{id:"no-rule-to-make-target"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#no-rule-to-make-target"}},[e._v("#")]),e._v(" No rule to make target")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("make start\nmake: *** No rule to make target 'start'.  Stop.\n")])])]),t("p",[e._v("This most probably means that uou are in wrong working directory. try "),t("code",[e._v("cd /opt/ckan-cloud-docker")]),e._v(".")]),e._v(" "),t("p",[t("em",[e._v("Note:")]),e._v(" You migt be using different directory - "),t("code",[e._v("/opt/ckan-cloud-docker")]),e._v(" is that one stated in this guide.")]),e._v(" "),t("h3",{attrs:{id:"pluginnotfound-error"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pluginnotfound-error"}},[e._v("#")]),e._v(" PluginNotFound Error")]),e._v(" "),t("p",[e._v("CKAN App might start throwing errors in container logs on startup like "),t("code",[e._v("PluginNotFound(plugin-name)")]),e._v(".")]),e._v(" "),t("p",[e._v("You’ve most probably forgot to add extensions in "),t("code",[e._v("POST_INSTALL")]),e._v(" section to actually install the extension. See "),t("a",{attrs:{href:"#POST_INSTALL"}},[e._v("POST_INSTALL")])]),e._v(" "),t("h3",{attrs:{id:"new-extension-does-not-show-up-on-the-portal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#new-extension-does-not-show-up-on-the-portal"}},[e._v("#")]),e._v(" New extension does not show up on the portal")]),e._v(" "),t("p",[e._v("If you don’t see the new extenion installed on the portal, make sure you’ve updated "),t("code",[e._v("ckan.plugins")]),e._v(" in configuration file. See "),t("a",{attrs:{href:"#Configuration-Files"}},[e._v("Configuration Files")])])])}),[],!1,null,null,null);a.default=r.exports}}]);