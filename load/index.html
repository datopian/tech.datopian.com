<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Load | Datopian Tech</title>
    <meta name="generator" content="VuePress 1.7.0">
    
    <meta name="description" content="An overview of our technology">
    
    <link rel="preload" href="/assets/css/0.styles.d75de8d6.css" as="style"><link rel="preload" href="/assets/js/app.7f3c6fc4.js" as="script"><link rel="preload" href="/assets/js/3.d799bd9e.js" as="script"><link rel="preload" href="/assets/js/66.2744a185.js" as="script"><link rel="prefetch" href="/assets/js/10.638da2b7.js"><link rel="prefetch" href="/assets/js/11.17e0f31f.js"><link rel="prefetch" href="/assets/js/12.79e6097b.js"><link rel="prefetch" href="/assets/js/13.6eb9e3f2.js"><link rel="prefetch" href="/assets/js/14.321278ec.js"><link rel="prefetch" href="/assets/js/15.391bfc07.js"><link rel="prefetch" href="/assets/js/16.0706ce2b.js"><link rel="prefetch" href="/assets/js/17.b381cf63.js"><link rel="prefetch" href="/assets/js/18.d7fb8727.js"><link rel="prefetch" href="/assets/js/19.69d5ac20.js"><link rel="prefetch" href="/assets/js/20.7083d06c.js"><link rel="prefetch" href="/assets/js/21.49fa9fe8.js"><link rel="prefetch" href="/assets/js/22.154f4b66.js"><link rel="prefetch" href="/assets/js/23.4dc144f6.js"><link rel="prefetch" href="/assets/js/24.cc815849.js"><link rel="prefetch" href="/assets/js/25.ce5ada67.js"><link rel="prefetch" href="/assets/js/26.7e80a33f.js"><link rel="prefetch" href="/assets/js/27.1f061470.js"><link rel="prefetch" href="/assets/js/28.3c051140.js"><link rel="prefetch" href="/assets/js/29.5b19c9e2.js"><link rel="prefetch" href="/assets/js/30.b55d7f51.js"><link rel="prefetch" href="/assets/js/31.2f80b7f1.js"><link rel="prefetch" href="/assets/js/32.ea642099.js"><link rel="prefetch" href="/assets/js/33.946f15c2.js"><link rel="prefetch" href="/assets/js/34.d8bbaa89.js"><link rel="prefetch" href="/assets/js/35.fc278665.js"><link rel="prefetch" href="/assets/js/36.3e6136c3.js"><link rel="prefetch" href="/assets/js/37.40891321.js"><link rel="prefetch" href="/assets/js/38.6acf3457.js"><link rel="prefetch" href="/assets/js/39.5c089959.js"><link rel="prefetch" href="/assets/js/4.56b57a79.js"><link rel="prefetch" href="/assets/js/40.428fc145.js"><link rel="prefetch" href="/assets/js/41.ed41f981.js"><link rel="prefetch" href="/assets/js/42.69642908.js"><link rel="prefetch" href="/assets/js/43.735df8f3.js"><link rel="prefetch" href="/assets/js/44.d7f00d32.js"><link rel="prefetch" href="/assets/js/45.01aa22e7.js"><link rel="prefetch" href="/assets/js/46.95143001.js"><link rel="prefetch" href="/assets/js/47.af314171.js"><link rel="prefetch" href="/assets/js/48.79db91df.js"><link rel="prefetch" href="/assets/js/49.2bde88a9.js"><link rel="prefetch" href="/assets/js/5.9745c567.js"><link rel="prefetch" href="/assets/js/50.9129941e.js"><link rel="prefetch" href="/assets/js/51.b269d2ad.js"><link rel="prefetch" href="/assets/js/52.635d5ff9.js"><link rel="prefetch" href="/assets/js/53.c7f27608.js"><link rel="prefetch" href="/assets/js/54.fa00a9cd.js"><link rel="prefetch" href="/assets/js/55.b0f25fa3.js"><link rel="prefetch" href="/assets/js/56.b267a606.js"><link rel="prefetch" href="/assets/js/57.d22c2b48.js"><link rel="prefetch" href="/assets/js/58.951d4e34.js"><link rel="prefetch" href="/assets/js/59.af3e6d1a.js"><link rel="prefetch" href="/assets/js/6.884850f8.js"><link rel="prefetch" href="/assets/js/60.1fcd2664.js"><link rel="prefetch" href="/assets/js/61.8eabe431.js"><link rel="prefetch" href="/assets/js/62.ae37d327.js"><link rel="prefetch" href="/assets/js/63.4909605b.js"><link rel="prefetch" href="/assets/js/64.54feb24c.js"><link rel="prefetch" href="/assets/js/65.78e5aadb.js"><link rel="prefetch" href="/assets/js/67.0d982f82.js"><link rel="prefetch" href="/assets/js/68.26fc110b.js"><link rel="prefetch" href="/assets/js/69.80229dbf.js"><link rel="prefetch" href="/assets/js/7.7e8bc420.js"><link rel="prefetch" href="/assets/js/70.6dbe86bf.js"><link rel="prefetch" href="/assets/js/71.5ea64cfd.js"><link rel="prefetch" href="/assets/js/72.e6aa1f00.js"><link rel="prefetch" href="/assets/js/73.1c5161ae.js"><link rel="prefetch" href="/assets/js/74.8e3e50e5.js"><link rel="prefetch" href="/assets/js/75.a999e369.js"><link rel="prefetch" href="/assets/js/76.43f17b74.js"><link rel="prefetch" href="/assets/js/77.bfeedf51.js"><link rel="prefetch" href="/assets/js/78.3a5c4169.js"><link rel="prefetch" href="/assets/js/79.4edb0ee4.js"><link rel="prefetch" href="/assets/js/8.822440c2.js"><link rel="prefetch" href="/assets/js/80.455a3bb5.js"><link rel="prefetch" href="/assets/js/81.4e58f07a.js"><link rel="prefetch" href="/assets/js/82.31ee1f4e.js"><link rel="prefetch" href="/assets/js/83.c354cc92.js"><link rel="prefetch" href="/assets/js/84.d25a09fe.js"><link rel="prefetch" href="/assets/js/85.3b60c237.js"><link rel="prefetch" href="/assets/js/9.63d821ea.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.62a8c583.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d75de8d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Datopian Tech</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Features" class="dropdown-title"><span class="title">Features</span> <span class="arrow down"></span></button> <button type="button" aria-label="Features" class="mobile-dropdown-title"><span class="title">Features</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div> <a href="https://github.com/datopian/tech.datopian.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Data Load</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/load/#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/load/#features" class="sidebar-link">Features</a></li><li class="sidebar-sub-header"><a href="/load/#flows" class="sidebar-link">Flows</a></li></ul></li><li><a href="/load/#ckan-v2" class="sidebar-link">CKAN v2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/load/#ui" class="sidebar-link">UI</a></li><li class="sidebar-sub-header"><a href="/load/#datapusher" class="sidebar-link">DataPusher</a></li><li class="sidebar-sub-header"><a href="/load/#xloader" class="sidebar-link">XLoader</a></li><li class="sidebar-sub-header"><a href="/load/#flow-of-data-in-data-load" class="sidebar-link">Flow of Data in Data Load</a></li><li class="sidebar-sub-header"><a href="/load/#faqs" class="sidebar-link">FAQs</a></li><li class="sidebar-sub-header"><a href="/load/#what-issues-are-there" class="sidebar-link">What Issues are there?</a></li></ul></li><li><a href="/load/#ckan-v3" class="sidebar-link">CKAN v3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/load/#design" class="sidebar-link">Design</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-load"><a href="#data-load" class="header-anchor">#</a> Data Load</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Data load covers functionality for automatedly loading structured data such as tables into a data management system. Data load is usually part of a larger <a href="/data-api/">Data API (DataStore)</a> component.</p> <p>Load is distinct from uploading raw files (‚Äúblobs‚Äù) and from a ‚Äúwrite‚Äù data API: from blobs because the data is structured (e.g. rows and columns) and that structure is expected to be preserved; from a write data API because the data is imported in bulk (e.g. a whole CSV file) rather than writing one row at a time.</p> <p>The load terminology comes from ETL (extract, transform, load) though in reality this functionality will often include some extraction and transformation ‚Äì extracting the structured data from the source formats and potentially transformation if data needs some cleaning.</p> <h3 id="features"><a href="#features" class="header-anchor">#</a> Features</h3> <p>As a Publisher i want to load my dataset (resource) into the DataStore quickly and reliably so that my data is available over the data API.</p> <ul><li>Be ‚Äútolerant‚Äù where possible of bad data so that it still loads</li> <li>Get feedback on load progress, especially if something went wrong (with info on how I can fix it), so that I know my data is loaded (or if not what I can do about it)</li> <li>I want to update the schema for the data so that the data has right types (before and/or after load)</li> <li>I want to be able to update with a new resource file and only have it load the most recent</li></ul> <p>For sysadmins:</p> <ul><li>Track Performance: As a Datopian Cloud Sysadmin I want to know if there are issues so that I can promptly address any problems for clients</li> <li>One Data Load Service per Cloud: As a Datopian Cloud Manager I may want to have one ‚ÄúDataLoad‚Äù service I maintain rather than one per instance for efficiency ‚Ä¶</li></ul> <h3 id="flows"><a href="#flows" class="header-anchor">#</a> Flows</h3> <h4 id="automatic-load"><a href="#automatic-load" class="header-anchor">#</a> Automatic load</h4> <ul><li>Users uploads a file to portal using the Dataset editor
<ul><li>This is stored into the blob storage (i.e. local or cloud storage)</li></ul></li> <li>A ‚ÄúPUSH‚Äù notification is triggered to loader service</li> <li>Loader service load file to data API backend (a structured database with web API)</li></ul> <div class="spinner" style="background:rgb(66, 185, 131);" data-v-1bbcb91a></div><h4 id="sequence-diagram-for-manual-load"><a href="#sequence-diagram-for-manual-load" class="header-anchor">#</a> Sequence diagram for manual load</h4> <p>The load to the data API system can also be triggered manually:</p> <div class="spinner" style="background:rgb(66, 185, 131);" data-v-1bbcb91a></div><h2 id="ckan-v2"><a href="#ckan-v2" class="header-anchor">#</a> CKAN v2</h2> <p>The actual loading is provided by either DataPusher or XLoader. There is a common UI. There is no explicit API to trigger a load ‚Äì instead it is implicitly triggered, for example when a Resource is updated.</p> <h3 id="ui"><a href="#ui" class="header-anchor">#</a> UI</h3> <p>The UI shows runs of the data loading system with information on success or failure. It also allows eidtors to manually retrigger a load.</p> <p><img src="https://i.imgur.com/fSh2cwK.png" alt=""></p> <p>TODO: add more screenshots</p> <h3 id="datapusher"><a href="#datapusher" class="header-anchor">#</a> DataPusher</h3> <p>Service (API) For pushing tabular data to datastore. Do not confuse it with <code>ckanext/datapusher</code> in ckan core codbase which is simply an extension communicating with the DataPusher API. DataPusher itself is a standalone service, running separately from CKAN app.</p> <p><a href="https://github.com/ckan/datapusher" target="_blank" rel="noopener noreferrer">https://github.com/ckan/datapusher<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.ckan.org/projects/datapusher/en/latest/" target="_blank" rel="noopener noreferrer">https://docs.ckan.org/projects/datapusher/en/latest/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.ckan.org/en/2.8/maintaining/datastore.html#datapusher-automatically-add-data-to-the-datastore" target="_blank" rel="noopener noreferrer">https://docs.ckan.org/en/2.8/maintaining/datastore.html#datapusher-automatically-add-data-to-the-datastore<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="xloader"><a href="#xloader" class="header-anchor">#</a> XLoader</h3> <p>XLoader runs as async jobs within CKAN and bulk loads data via Postgres COPY command. This is fast but it does mean it only loads data as strings and explicit type-casting must be done after the load (the user must edit the data dictionary). XLoader was built to address 2 major issues with DataPusher:</p> <ul><li>Speed: DataPusher converts data row by row and writes over the DataStore write API and hence is quite slow.</li> <li>Dirty data: DataPusher attempts to guess data types and then cast and this regularly led to failures which though logical were frustrating to users. XLoader gets the data in (as strings) and let‚Äôs the user sort out types later.</li></ul> <p><a href="https://github.com/ckan/ckanext-xloader" target="_blank" rel="noopener noreferrer">https://github.com/ckan/ckanext-xloader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><code>load_csv</code>: <a href="https://github.com/ckan/ckanext-xloader/blob/master/ckanext/xloader/loader.py#L40" target="_blank" rel="noopener noreferrer">https://github.com/ckan/ckanext-xloader/blob/master/ckanext/xloader/loader.py#L40<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Loader: <a href="https://github.com/ckan/ckanext-xloader/blob/master/ckanext/xloader/jobs.py#L100" target="_blank" rel="noopener noreferrer">https://github.com/ckan/ckanext-xloader/blob/master/ckanext/xloader/jobs.py#L100<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>How does the queue system work: job queue is done by RQ, which is simpler and is backed by Redis and allows access to the CKAN model. Job results are currently still stored in its own database, but the intention is to move this relatively small amount of data into CKAN‚Äôs database, to reduce the complication of install.</p> <h3 id="flow-of-data-in-data-load"><a href="#flow-of-data-in-data-load" class="header-anchor">#</a> Flow of Data in Data Load</h3> <div class="spinner" style="background:rgb(66, 185, 131);" data-v-1bbcb91a></div><p>Sequence diagram showing the journey of a tabular file into the DataStore:</p> <div class="spinner" style="background:rgb(66, 185, 131);" data-v-1bbcb91a></div><h3 id="faqs"><a href="#faqs" class="header-anchor">#</a> FAQs</h3> <p>Q: What happens with non-tabular data?<br>
A: CKAN has a list of types of data it can process into the DataStore (TODO:link) and will only process those.</p> <h3 id="what-issues-are-there"><a href="#what-issues-are-there" class="header-anchor">#</a> What Issues are there?</h3> <p>Generally: the Data Load system is an hand-crafted, bespoke mini-ETL process. It would seem better to use high-quality third-party ETL tooling here rather than hand-roll be that for pipeline creation, monitoring, orchestration etc.</p> <p>Specific examples:</p> <ul><li>No connection between DataStore system and CKAN validation extension powered by GoodTables <a href="https://github.com/frictionlessdata/ckanext-validation" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/ckanext-validation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Thus, for example, users may edit the DataStore Data Dictionary and be confused that this has no impact on validation. More generally, data validation and data loading might naturally be part of one overall ETL process but Data Load system is not architected in a way that makes this easy to add.</li> <li>No support for Frictionless Data spec sand their ability to specific incoming data structure (CSV format, encoding, column types etc).
<ul><li>Dependent on error-prone guessing of types or manual type conversion</li> <li>Makes it painful to integrate with broader data processing pipeline (e.g. clean separation would allow type guessing to be optimized elsewhere in another part of the ETL pipeline)</li></ul></li> <li>Excel loading won‚Äôt work or won‚Äôt load all sheets</li> <li>DataPusher
<ul><li><a href="https://github.com/ckan/ckanext-xloader#key-differences-from-datapusher" target="_blank" rel="noopener noreferrer">https://github.com/ckan/ckanext-xloader#key-differences-from-datapusher<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Works terribly with loading a bit big data. It may for no reason crash after hour of loading. And after reload it goes along</li> <li>Is slow esp for large datasets and even smallish datasets e.g. 25Mb</li> <li>often fails due to e.g. data validation/casting errors but this not clear (and unsatisfying to the user)</li></ul></li> <li>XLoader:
<ul><li>Doesn‚Äôt work with XLS(X)</li> <li>has problems fetching resources from Blob Storage (it fails and need to wait until the Resource is uploaded.)</li> <li>raising Exception NotFound when CKAN has a delay creating resources</li> <li>re-submits Resources when creating a new Resource</li> <li>XLoader sets <code>datastore_active</code> before data is uploaded</li></ul></li></ul> <h2 id="ckan-v3"><a href="#ckan-v3" class="header-anchor">#</a> CKAN v3</h2> <p>The v3 implementation is named üí®ü•´ AirCan: <a href="https://github.com/datopian/aircan" target="_blank" rel="noopener noreferrer">https://github.com/datopian/aircan<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Its a lightweight, standalone service using AirFlow.</p> <p>Status: Beta (June 2020)</p> <ul><li>Runs as a separate microservice with zero coupling with CKAN core (=&gt; gives cleaner separation and testing)</li> <li>Uses Frictionless Data patterns and specs where possible e.g. Table Schema for describing or inferring the data schema</li> <li>Uses AirFlow as the runner</li> <li>Uses common ETL / <a href="/flows/">Data Flows</a> patterns and frameworks</li></ul> <h3 id="design"><a href="#design" class="header-anchor">#</a> Design</h3> <p>See <a href="/load/design/">Design page ¬ª</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/datopian/tech.datopian.com/edit/master/load/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Modified:</span> <span class="time">5/3/2021, 10:02:30 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7f3c6fc4.js" defer></script><script src="/assets/js/3.d799bd9e.js" defer></script><script src="/assets/js/66.2744a185.js" defer></script>
  </body>
</html>
